var yE=Object.defineProperty,vE=Object.defineProperties;var _E=Object.getOwnPropertyDescriptors;var Up=Object.getOwnPropertySymbols;var wE=Object.prototype.hasOwnProperty,CE=Object.prototype.propertyIsEnumerable;var $p=(e,t,n)=>t in e?yE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||={})wE.call(t,n)&&$p(e,n,t[n]);if(Up)for(var n of Up(t))CE.call(t,n)&&$p(e,n,t[n]);return e},B=(e,t)=>vE(e,_E(t));var I=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});function Hp(e,t){return Object.is(e,t)}var ue=null,is=!1,os=1,At=Symbol("SIGNAL");function G(e){let t=ue;return ue=e,t}function zp(){return ue}var xi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ul(e){if(is)throw new Error("");if(ue===null)return;ue.consumerOnSignalRead(e);let t=ue.nextProducerIndex++;if(ls(ue),t<ue.producerNode.length&&ue.producerNode[t]!==e&&Ni(ue)){let n=ue.producerNode[t];cs(n,ue.producerIndexOfThis[t])}ue.producerNode[t]!==e&&(ue.producerNode[t]=e,ue.producerIndexOfThis[t]=Ni(ue)?Yp(e,ue,t):0),ue.producerLastReadVersion[t]=e.version}function DE(){os++}function Wp(e){if(!(Ni(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===os)){if(!e.producerMustRecompute(e)&&!fl(e)){e.dirty=!1,e.lastCleanEpoch=os;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=os}}function Gp(e){if(e.liveConsumerNode===void 0)return;let t=is;is=!0;try{for(let n of e.liveConsumerNode)n.dirty||EE(n)}finally{is=t}}function qp(){return ue?.consumerAllowSignalWrites!==!1}function EE(e){e.dirty=!0,Gp(e),e.consumerMarkedDirty?.(e)}function as(e){return e&&(e.nextProducerIndex=0),G(e)}function dl(e,t){if(G(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ni(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)cs(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function fl(e){ls(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Wp(n),r!==n.version))return!0}return!1}function hl(e){if(ls(e),Ni(e))for(let t=0;t<e.producerNode.length;t++)cs(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Yp(e,t,n){if(Zp(e),e.liveConsumerNode.length===0&&Qp(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Yp(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function cs(e,t){if(Zp(e),e.liveConsumerNode.length===1&&Qp(e))for(let r=0;r<e.producerNode.length;r++)cs(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ls(i),i.producerIndexOfThis[r]=t}}function Ni(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ls(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Zp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Qp(e){return e.producerNode!==void 0}function Kp(e){let t=Object.create(IE);t.computation=e;let n=()=>{if(Wp(t),ul(t),t.value===ss)throw t.error;return t.value};return n[At]=t,n}var cl=Symbol("UNSET"),ll=Symbol("COMPUTING"),ss=Symbol("ERRORED"),IE=B(v({},xi),{value:cl,dirty:!0,error:null,equal:Hp,producerMustRecompute(e){return e.value===cl||e.value===ll},producerRecomputeValue(e){if(e.value===ll)throw new Error("Detected cycle in computations.");let t=e.value;e.value=ll;let n=as(e),r;try{r=e.computation()}catch(i){r=ss,e.error=i}finally{dl(e,n)}if(t!==cl&&t!==ss&&r!==ss&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});function bE(){throw new Error}var Jp=bE;function Xp(){Jp()}function eg(e){Jp=e}var SE=null;function tg(e){let t=Object.create(rg);t.value=e;let n=()=>(ul(t),t.value);return n[At]=t,n}function pl(e,t){qp()||Xp(),e.equal(e.value,t)||(e.value=t,TE(e))}function ng(e,t){qp()||Xp(),pl(e,t(e.value))}var rg=B(v({},xi),{equal:Hp,value:void 0});function TE(e){e.version++,DE(),Gp(e),SE?.()}function A(e){return typeof e=="function"}function wr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var us=wr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ri(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var se=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(o){t=o instanceof us?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ig(o)}catch(s){t=t??[],s instanceof us?t=[...t,...s.errors]:t.push(s)}}if(t)throw new us(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ig(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ri(n,t)}remove(t){let{_finalizers:n}=this;n&&Ri(n,t),t instanceof e&&t._removeParent(this)}};se.EMPTY=(()=>{let e=new se;return e.closed=!0,e})();var gl=se.EMPTY;function ds(e){return e instanceof se||e&&"closed"in e&&A(e.remove)&&A(e.add)&&A(e.unsubscribe)}function ig(e){A(e)?e():e.unsubscribe()}var et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cr={setTimeout(e,t,...n){let{delegate:r}=Cr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Cr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function fs(e){Cr.setTimeout(()=>{let{onUnhandledError:t}=et;if(t)t(e);else throw e})}function Oi(){}var og=ml("C",void 0,void 0);function sg(e){return ml("E",void 0,e)}function ag(e){return ml("N",e,void 0)}function ml(e,t,n){return{kind:e,value:t,error:n}}var Ln=null;function Dr(e){if(et.useDeprecatedSynchronousErrorHandling){let t=!Ln;if(t&&(Ln={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Ln;if(Ln=null,n)throw r}}else e()}function cg(e){et.useDeprecatedSynchronousErrorHandling&&Ln&&(Ln.errorThrown=!0,Ln.error=e)}var Vn=class extends se{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ds(t)&&t.add(this)):this.destination=NE}static create(t,n,r){return new Er(t,n,r)}next(t){this.isStopped?vl(ag(t),this):this._next(t)}error(t){this.isStopped?vl(sg(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?vl(og,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ME=Function.prototype.bind;function yl(e,t){return ME.call(e,t)}var _l=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){hs(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){hs(r)}else hs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){hs(n)}}},Er=class extends Vn{constructor(t,n,r){super();let i;if(A(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&et.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&yl(t.next,o),error:t.error&&yl(t.error,o),complete:t.complete&&yl(t.complete,o)}):i=t}this.destination=new _l(i)}};function hs(e){et.useDeprecatedSynchronousErrorHandling?cg(e):fs(e)}function AE(e){throw e}function vl(e,t){let{onStoppedNotification:n}=et;n&&Cr.setTimeout(()=>n(e,t))}var NE={closed:!0,next:Oi,error:AE,complete:Oi};var Ir=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ve(e){return e}function wl(...e){return Cl(e)}function Cl(e){return e.length===0?Ve:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var z=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=RE(n)?n:new Er(n,r,i);return Dr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=lg(r),new r((i,o)=>{let s=new Er({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ir](){return this}pipe(...n){return Cl(n)(this)}toPromise(n){return n=lg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function lg(e){var t;return(t=e??et.Promise)!==null&&t!==void 0?t:Promise}function xE(e){return e&&A(e.next)&&A(e.error)&&A(e.complete)}function RE(e){return e&&e instanceof Vn||xE(e)&&ds(e)}function Dl(e){return A(e?.lift)}function W(e){return t=>{if(Dl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(e,t,n,r,i){return new El(e,t,n,r,i)}var El=class extends Vn{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function br(){return W((e,t)=>{let n=null;e._refCount++;let r=U(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Sr=class extends z{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new se;let n=this.getSubject();t.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=se.EMPTY)}return t}refCount(){return br()(this)}};var ug=wr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=(()=>{class e extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ps(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ug}next(n){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gl:(this.currentObservers=null,o.push(n),new se(()=>{this.currentObservers=null,Ri(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new z;return n.source=this,n}}return e.create=(t,n)=>new ps(t,n),e})(),ps=class extends ve{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:gl}};var _e=class extends ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var je=new z(e=>e.complete());function dg(e){return e&&A(e.schedule)}function fg(e){return e[e.length-1]}function gs(e){return A(fg(e))?e.pop():void 0}function en(e){return dg(fg(e))?e.pop():void 0}function pg(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function hg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jn(e){return this instanceof jn?(this.v=e,this):new jn(e)}function gg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(_,E){o.push([h,g,_,E])>1||c(h,g)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(g){f(o[0][3],g)}}function l(h){h.value instanceof jn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function mg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof hg=="function"?hg(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ms=e=>e&&typeof e.length=="number"&&typeof e!="function";function ys(e){return A(e?.then)}function vs(e){return A(e[Ir])}function _s(e){return Symbol.asyncIterator&&A(e?.[Symbol.asyncIterator])}function ws(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cs=OE();function Ds(e){return A(e?.[Cs])}function Es(e){return gg(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield jn(n.read());if(i)return yield jn(void 0);yield yield jn(r)}}finally{n.releaseLock()}})}function Is(e){return A(e?.getReader)}function ae(e){if(e instanceof z)return e;if(e!=null){if(vs(e))return PE(e);if(ms(e))return kE(e);if(ys(e))return FE(e);if(_s(e))return yg(e);if(Ds(e))return LE(e);if(Is(e))return VE(e)}throw ws(e)}function PE(e){return new z(t=>{let n=e[Ir]();if(A(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kE(e){return new z(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function FE(e){return new z(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,fs)})}function LE(e){return new z(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function yg(e){return new z(t=>{jE(e,t).catch(n=>t.error(n))})}function VE(e){return yg(Es(e))}function jE(e,t){var n,r,i,o;return pg(this,void 0,void 0,function*(){try{for(n=mg(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Me(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function bs(e,t=0){return W((n,r)=>{n.subscribe(U(r,i=>Me(r,e,()=>r.next(i),t),()=>Me(r,e,()=>r.complete(),t),i=>Me(r,e,()=>r.error(i),t)))})}function Ss(e,t=0){return W((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function vg(e,t){return ae(e).pipe(Ss(t),bs(t))}function _g(e,t){return ae(e).pipe(Ss(t),bs(t))}function wg(e,t){return new z(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Cg(e,t){return new z(n=>{let r;return Me(n,t,()=>{r=e[Cs](),Me(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>A(r?.return)&&r.return()})}function Ts(e,t){if(!e)throw new Error("Iterable cannot be null");return new z(n=>{Me(n,t,()=>{let r=e[Symbol.asyncIterator]();Me(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dg(e,t){return Ts(Es(e),t)}function Eg(e,t){if(e!=null){if(vs(e))return vg(e,t);if(ms(e))return wg(e,t);if(ys(e))return _g(e,t);if(_s(e))return Ts(e,t);if(Ds(e))return Cg(e,t);if(Is(e))return Dg(e,t)}throw ws(e)}function re(e,t){return t?Eg(e,t):ae(e)}function b(...e){let t=en(e);return re(e,t)}function Tr(e,t){let n=A(e)?e:()=>e,r=i=>i.error(n());return new z(t?i=>t.schedule(r,0,i):r)}function Il(e){return!!e&&(e instanceof z||A(e.lift)&&A(e.subscribe))}var Nt=wr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function M(e,t){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:BE}=Array;function UE(e,t){return BE(t)?e(...t):e(t)}function Ms(e){return M(t=>UE(e,t))}var{isArray:$E}=Array,{getPrototypeOf:HE,prototype:zE,keys:WE}=Object;function As(e){if(e.length===1){let t=e[0];if($E(t))return{args:t,keys:null};if(GE(t)){let n=WE(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function GE(e){return e&&typeof e=="object"&&HE(e)===zE}function Ns(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function xs(...e){let t=en(e),n=gs(e),{args:r,keys:i}=As(e);if(r.length===0)return re([],t);let o=new z(qE(r,t,i?s=>Ns(i,s):Ve));return n?o.pipe(Ms(n)):o}function qE(e,t,n=Ve){return r=>{Ig(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Ig(t,()=>{let l=re(e[c],t),u=!1;l.subscribe(U(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ig(e,t,n){e?Me(n,e,t):t()}function bg(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{o&&t.next(g),l++;let _=!1;ae(n(g,u++)).subscribe(U(t,E=>{i?.(E),o?h(E):t.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let E=c.shift();s?Me(t,s,()=>p(E)):p(E)}f()}catch(E){t.error(E)}}))};return e.subscribe(U(t,h,()=>{d=!0,f()})),()=>{a?.()}}function de(e,t,n=1/0){return A(t)?de((r,i)=>M((o,s)=>t(r,o,i,s))(ae(e(r,i))),n):(typeof t=="number"&&(n=t),W((r,i)=>bg(r,i,e,n)))}function bl(e=1/0){return de(Ve,e)}function Sg(){return bl(1)}function Mr(...e){return Sg()(re(e,en(e)))}function Rs(e){return new z(t=>{ae(e()).subscribe(t)})}function Sl(...e){let t=gs(e),{args:n,keys:r}=As(e),i=new z(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ae(n[u]).subscribe(U(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ns(r,a):a),o.complete())}))}});return t?i.pipe(Ms(t)):i}function Be(e,t){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>e.call(t,o,i++)&&r.next(o)))})}function tn(e){return W((t,n)=>{let r=null,i=!1,o;r=t.subscribe(U(n,void 0,void 0,s=>{o=ae(e(s,tn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Tg(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(U(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function nn(e,t){return A(t)?de(e,t,1):de(e,1)}function rn(e){return W((t,n)=>{let r=!1;t.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function xt(e){return e<=0?()=>je:W((t,n)=>{let r=0;t.subscribe(U(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Tl(e){return M(()=>e)}function Os(e=YE){return W((t,n)=>{let r=!1;t.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function YE(){return new Nt}function Bn(e){return W((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function ht(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Be((i,o)=>e(i,o,r)):Ve,xt(1),n?rn(t):Os(()=>new Nt))}function Ar(e){return e<=0?()=>je:W((t,n)=>{let r=[];t.subscribe(U(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ml(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Be((i,o)=>e(i,o,r)):Ve,Ar(1),n?rn(t):Os(()=>new Nt))}function Al(e,t){return W(Tg(e,t,arguments.length>=2,!0))}function Nl(...e){let t=en(e);return W((n,r)=>{(t?Mr(e,n,t):Mr(e,n)).subscribe(r)})}function Ue(e,t){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(U(r,c=>{i?.unsubscribe();let l=0,u=o++;ae(e(c,u)).subscribe(i=U(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xl(e){return W((t,n)=>{ae(e).subscribe(U(n,()=>n.complete(),Oi)),!n.closed&&t.subscribe(n)})}function ye(e,t,n){let r=A(e)||t||n?{next:e,error:t,complete:n}:e;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(U(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ve}var ZE="https://g.co/ng/security#xss",C=class extends Error{constructor(t,n){super(fa(t,n)),this.code=t}};function fa(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function zi(e){return{toString:e}.toString()}var Ps="__parameters__";function QE(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function hm(e,t,n){return zi(()=>{let r=QE(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ps)?c[Ps]:Object.defineProperty(c,Ps,{value:[]})[Ps];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function K(e){for(let t in e)if(e[t]===K)return t;throw Error("Could not find renamed property on target object.")}function KE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ie(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ie).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Mg(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var JE=K({__forward_ref__:K});function kt(e){return e.__forward_ref__=kt,e.toString=function(){return Ie(this())},e}function Ee(e){return pm(e)?e():e}function pm(e){return typeof e=="function"&&e.hasOwnProperty(JE)&&e.__forward_ref__===kt}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ha(e){return Ag(e,mm)||Ag(e,ym)}function gm(e){return ha(e)!==null}function Ag(e,t){return e.hasOwnProperty(t)?e[t]:null}function XE(e){let t=e&&(e[mm]||e[ym]);return t||null}function Ng(e){return e&&(e.hasOwnProperty(xg)||e.hasOwnProperty(eI))?e[xg]:null}var mm=K({\u0275prov:K}),xg=K({\u0275inj:K}),ym=K({ngInjectableDef:K}),eI=K({ngInjectorDef:K}),D=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=w({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vm(e){return e&&!!e.\u0275providers}var tI=K({\u0275cmp:K}),nI=K({\u0275dir:K}),rI=K({\u0275pipe:K}),iI=K({\u0275mod:K}),Hs=K({\u0275fac:K}),Fi=K({__NG_ELEMENT_ID__:K}),Rg=K({__NG_ENV_ID__:K});function Pu(e){return typeof e=="string"?e:e==null?"":String(e)}function oI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Pu(e)}function sI(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new C(-200,e)}function ku(e,t){throw new C(-201,!1)}var P=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(P||{}),Wl;function _m(){return Wl}function qe(e){let t=Wl;return Wl=e,t}function wm(e,t,n){let r=ha(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&P.Optional)return null;if(t!==void 0)return t;ku(e,"Injector")}var aI={},Li=aI,Gl="__NG_DI_FLAG__",zs="ngTempTokenPath",cI="ngTokenPath",lI=/\n/gm,uI="\u0275",Og="__source",Or;function dI(){return Or}function on(e){let t=Or;return Or=e,t}function fI(e,t=P.Default){if(Or===void 0)throw new C(-203,!1);return Or===null?wm(e,void 0,t):Or.get(e,t&P.Optional?null:void 0,t)}function T(e,t=P.Default){return(_m()||fI)(Ee(e),t)}function y(e,t=P.Default){return T(e,pa(t))}function pa(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ql(e){let t=[];for(let n=0;n<e.length;n++){let r=Ee(e[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=P.Default;for(let s=0;s<r.length;s++){let a=r[s],c=hI(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(T(i,o))}else t.push(T(r))}return t}function Cm(e,t){return e[Gl]=t,e.prototype[Gl]=t,e}function hI(e){return e[Gl]}function pI(e,t,n,r){let i=e[zs];throw t[Og]&&i.unshift(t[Og]),e.message=gI(`
`+e.message,i,n,r),e[cI]=i,e[zs]=null,e}function gI(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==uI?e.slice(2):e;let i=Ie(t);if(Array.isArray(t))i=t.map(Ie).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ie(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(lI,`
  `)}`}var Fu=Cm(hm("Optional"),8);var Dm=Cm(hm("SkipSelf"),4);function kr(e,t){let n=e.hasOwnProperty(Hs);return n?e[Hs]:null}function Lu(e,t){e.forEach(n=>Array.isArray(n)?Lu(n,t):t(n))}function Em(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ws(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function mI(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function yI(e,t,n){let r=Wi(e,t);return r>=0?e[r|1]=n:(r=~r,mI(e,r,t,n)),r}function Rl(e,t){let n=Wi(e,t);if(n>=0)return e[n|1]}function Wi(e,t){return vI(e,t,1)}function vI(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var Fr={},Ye=[],Lr=new D(""),Im=new D("",-1),bm=new D(""),Gs=class{get(t,n=Li){if(n===Li){let r=new Error(`NullInjectorError: No provider for ${Ie(t)}!`);throw r.name="NullInjectorError",r}return n}},Sm=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Sm||{}),mt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(mt||{}),cn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(cn||{});function _I(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Yl(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];CI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function wI(e){return e===3||e===4||e===6}function CI(e){return e.charCodeAt(0)===64}function Vi(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Pg(e,n,i,null,t[++r]):Pg(e,n,i,null,null))}}return e}function Pg(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Tm="ng-template";function DI(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&_I(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vu(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vu(e){return e.type===4&&e.value!==Tm}function EI(e,t,n){let r=e.type===4&&!n?Tm:e.value;return t===r}function II(e,t,n){let r=4,i=e.attrs,o=i!==null?TI(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!tt(r)&&!tt(c))return!1;if(s&&tt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!EI(e,c,n)||c===""&&t.length===1){if(tt(r))return!1;s=!0}}else if(r&8){if(i===null||!DI(e,i,c,n)){if(tt(r))return!1;s=!0}}else{let l=t[++a],u=bI(c,i,Vu(e),n);if(u===-1){if(tt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(tt(r))return!1;s=!0}}}}return tt(r)||s}function tt(e){return(e&1)===0}function bI(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return MI(t,e)}function SI(e,t,n=!1){for(let r=0;r<t.length;r++)if(II(e,t[r],n))return!0;return!1}function TI(e){for(let t=0;t<e.length;t++){let n=e[t];if(wI(n))return t}return e.length}function MI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function kg(e,t){return e?":not("+t.trim()+")":t}function AI(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tt(s)&&(t+=kg(o,i),i=""),r=s,o=o||!tt(r);n++}return i!==""&&(t+=kg(o,i)),t}function NI(e){return e.map(AI).join(",")}function xI(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!tt(i))break;i=o}r++}return{attrs:t,classes:n}}function pn(e){return zi(()=>{let t=Rm(e),n=B(v({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Sm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||mt.Emulated,styles:e.styles||Ye,_:null,schemas:e.schemas||null,tView:null,id:""});Om(n);let r=e.dependencies;return n.directiveDefs=Lg(r,!1),n.pipeDefs=Lg(r,!0),n.id=PI(n),n})}function RI(e){return $n(e)||Mm(e)}function OI(e){return e!==null}function Kn(e){return zi(()=>({type:e.type,bootstrap:e.bootstrap||Ye,declarations:e.declarations||Ye,imports:e.imports||Ye,exports:e.exports||Ye,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Fg(e,t){if(e==null)return Fr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=cn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==cn.None?[r,a]:r,t[o]=s):n[o]=r}return n}function pe(e){return zi(()=>{let t=Rm(e);return Om(t),t})}function $n(e){return e[tI]||null}function Mm(e){return e[nI]||null}function Am(e){return e[rI]||null}function Nm(e){let t=$n(e)||Mm(e)||Am(e);return t!==null?t.standalone:!1}function xm(e,t){let n=e[iI]||null;if(!n&&t===!0)throw new Error(`Type ${Ie(e)} does not have '\u0275mod' property.`);return n}function Rm(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Fr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ye,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fg(e.inputs,t),outputs:Fg(e.outputs),debugInfo:null}}function Om(e){e.features?.forEach(t=>t(e))}function Lg(e,t){if(!e)return null;let n=t?Am:RI;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(OI)}function PI(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Gi(e){return{\u0275providers:e}}function kI(...e){return{\u0275providers:Pm(!0,e),\u0275fromNgModule:!0}}function Pm(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lu(t,s=>{let a=s;Zl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&km(i,o),n}function km(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];ju(i,o=>{t(o,r)})}}function Zl(e,t,n,r){if(e=Ee(e),!e)return!1;let i=null,o=Ng(e),s=!o&&$n(e);if(!o&&!s){let c=e.ngModule;if(o=Ng(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Zl(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Lu(o.imports,u=>{Zl(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&km(l,t)}if(!a){let l=kr(i)||(()=>new i);t({provide:i,useFactory:l,deps:Ye},i),t({provide:bm,useValue:i,multi:!0},i),t({provide:Lr,useValue:()=>T(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;ju(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function ju(e,t){for(let n of e)vm(n)&&(n=n.\u0275providers),Array.isArray(n)?ju(n,t):t(n)}var FI=K({provide:String,useValue:K});function Fm(e){return e!==null&&typeof e=="object"&&FI in e}function LI(e){return!!(e&&e.useExisting)}function VI(e){return!!(e&&e.useFactory)}function Vr(e){return typeof e=="function"}function jI(e){return!!e.useClass}var ga=new D(""),Vs={},BI={},Ol;function Bu(){return Ol===void 0&&(Ol=new Gs),Ol}var Ae=class{},ji=class extends Ae{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kl(t,s=>this.processProvider(s)),this.records.set(Im,Nr(void 0,this)),i.has("environment")&&this.records.set(Ae,Nr(void 0,this));let o=this.records.get(ga);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bm,Ye,P.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=on(this),r=qe(void 0),i;try{return t()}finally{on(n),qe(r)}}get(t,n=Li,r=P.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Rg))return t[Rg](this);r=pa(r);let i,o=on(this),s=qe(void 0);try{if(!(r&P.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=WI(t)&&ha(t);l&&this.injectableDefInScope(l)?c=Nr(Ql(t),Vs):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&P.Self?Bu():this.parent;return n=r&P.Optional&&n===Li?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[zs]=a[zs]||[]).unshift(Ie(t)),o)throw a;return pI(a,t,"R3InjectorError",this.source)}else throw a}finally{qe(s),on(o)}}resolveInjectorInitializers(){let t=G(null),n=on(this),r=qe(void 0),i;try{let o=this.get(Lr,Ye,P.Self);for(let s of o)s()}finally{on(n),qe(r),G(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ie(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(t){t=Ee(t);let n=Vr(t)?t:Ee(t&&t.provide),r=$I(t);if(!Vr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Nr(void 0,Vs,!0),i.factory=()=>ql(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=G(null);try{return n.value===Vs&&(n.value=BI,n.value=n.factory()),typeof n.value=="object"&&n.value&&zI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ee(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ql(e){let t=ha(e),n=t!==null?t.factory:kr(e);if(n!==null)return n;if(e instanceof D)throw new C(204,!1);if(e instanceof Function)return UI(e);throw new C(204,!1)}function UI(e){if(e.length>0)throw new C(204,!1);let n=XE(e);return n!==null?()=>n.factory(e):()=>new e}function $I(e){if(Fm(e))return Nr(void 0,e.useValue);{let t=Lm(e);return Nr(t,Vs)}}function Lm(e,t,n){let r;if(Vr(e)){let i=Ee(e);return kr(i)||Ql(i)}else if(Fm(e))r=()=>Ee(e.useValue);else if(VI(e))r=()=>e.useFactory(...ql(e.deps||[]));else if(LI(e))r=()=>T(Ee(e.useExisting));else{let i=Ee(e&&(e.useClass||e.provide));if(HI(e))r=()=>new i(...ql(e.deps));else return kr(i)||Ql(i)}return r}function Nr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function HI(e){return!!e.deps}function zI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function WI(e){return typeof e=="function"||typeof e=="object"&&e instanceof D}function Kl(e,t){for(let n of e)Array.isArray(n)?Kl(n,t):n&&vm(n)?Kl(n.\u0275providers,t):t(n)}function it(e,t){e instanceof ji&&e.assertNotDestroyed();let n,r=on(e),i=qe(void 0);try{return t()}finally{on(r),qe(i)}}function GI(){return _m()!==void 0||dI()!=null}function qI(e){return typeof e=="function"}var Ft=0,$=1,S=2,be=3,nt=4,ot=5,qs=6,Ys=7,rt=8,jr=9,Rt=10,he=11,Bi=12,Vg=13,qr=14,yt=15,Br=16,xr=17,Ur=18,ma=19,Vm=20,sn=21,Pl=22,Ze=23,ln=25,jm=1;var Hn=7,Zs=8,Qs=9,Qe=10,Ks=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ks||{});function an(e){return Array.isArray(e)&&typeof e[jm]=="object"}function Lt(e){return Array.isArray(e)&&e[jm]===!0}function Bm(e){return(e.flags&4)!==0}function ya(e){return e.componentOffset>-1}function Uu(e){return(e.flags&1)===1}function un(e){return!!e.template}function Jl(e){return(e[S]&512)!==0}var Xl=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Um(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Jn(){return $m}function $m(e){return e.type.prototype.ngOnChanges&&(e.setInput=ZI),YI}Jn.ngInherit=!0;function YI(){let e=zm(this),t=e?.current;if(t){let n=e.previous;if(n===Fr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ZI(e,t,n,r,i){let o=this.declaredInputs[r],s=zm(e)||QI(e,{previous:Fr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Xl(l&&l.currentValue,n,c===Fr),Um(e,t,i,n)}var Hm="__ngSimpleChanges__";function zm(e){return e[Hm]||null}function QI(e,t){return e[Hm]=t}var jg=null;var pt=function(e,t,n){jg?.(e,t,n)},KI="svg",JI="math";function vt(e){for(;Array.isArray(e);)e=e[Ft];return e}function Wm(e,t){return vt(t[e])}function Ke(e,t){return vt(t[e.index])}function Gm(e,t){return e.data[t]}function gn(e,t){let n=t[e];return an(n)?n:n[Ft]}function $u(e){return(e[S]&128)===128}function XI(e){return Lt(e[be])}function Js(e,t){return t==null?null:e[t]}function qm(e){e[xr]=0}function Ym(e){e[S]&1024||(e[S]|=1024,$u(e)&&_a(e))}function eb(e,t){for(;e>0;)t=t[qr],e--;return t}function va(e){return!!(e[S]&9216||e[Ze]?.dirty)}function eu(e){e[Rt].changeDetectionScheduler?.notify(8),e[S]&64&&(e[S]|=1024),va(e)&&_a(e)}function _a(e){e[Rt].changeDetectionScheduler?.notify(0);let t=zn(e);for(;t!==null&&!(t[S]&8192||(t[S]|=8192,!$u(t)));)t=zn(t)}function Zm(e,t){if((e[S]&256)===256)throw new C(911,!1);e[sn]===null&&(e[sn]=[]),e[sn].push(t)}function tb(e,t){if(e[sn]===null)return;let n=e[sn].indexOf(t);n!==-1&&e[sn].splice(n,1)}function zn(e){let t=e[be];return Lt(t)?t[be]:t}var L={lFrame:oy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qm=!1;function nb(){return L.lFrame.elementDepthCount}function rb(){L.lFrame.elementDepthCount++}function ib(){L.lFrame.elementDepthCount--}function Km(){return L.bindingsEnabled}function ob(){return L.skipHydrationRootTNode!==null}function sb(e){return L.skipHydrationRootTNode===e}function ab(){L.skipHydrationRootTNode=null}function X(){return L.lFrame.lView}function $e(){return L.lFrame.tView}function Yr(e){return L.lFrame.contextLView=e,e[rt]}function Zr(e){return L.lFrame.contextLView=null,e}function Ne(){let e=Jm();for(;e!==null&&e.type===64;)e=e.parent;return e}function Jm(){return L.lFrame.currentTNode}function cb(){let e=L.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function qi(e,t){let n=L.lFrame;n.currentTNode=e,n.isParent=t}function Xm(){return L.lFrame.isParent}function lb(){L.lFrame.isParent=!1}function ey(){return Qm}function Bg(e){Qm=e}function ty(){let e=L.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ub(e){return L.lFrame.bindingIndex=e}function wa(){return L.lFrame.bindingIndex++}function db(e){let t=L.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function fb(){return L.lFrame.inI18n}function hb(e,t){let n=L.lFrame;n.bindingIndex=n.bindingRootIndex=e,tu(t)}function pb(){return L.lFrame.currentDirectiveIndex}function tu(e){L.lFrame.currentDirectiveIndex=e}function gb(e){let t=L.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function ny(e){L.lFrame.currentQueryIndex=e}function mb(e){let t=e[$];return t.type===2?t.declTNode:t.type===1?e[ot]:null}function ry(e,t,n){if(n&P.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&P.Host);)if(i=mb(o),i===null||(o=o[qr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=L.lFrame=iy();return r.currentTNode=t,r.lView=e,!0}function Hu(e){let t=iy(),n=e[$];L.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function iy(){let e=L.lFrame,t=e===null?null:e.child;return t===null?oy(e):t}function oy(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function sy(){let e=L.lFrame;return L.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ay=sy;function zu(){let e=sy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yb(e){return(L.lFrame.contextLView=eb(e,L.lFrame.contextLView))[rt]}function Qr(){return L.lFrame.selectedIndex}function Wn(e){L.lFrame.selectedIndex=e}function Wu(){let e=L.lFrame;return Gm(e.tView,e.selectedIndex)}function vb(){return L.lFrame.currentNamespace}var cy=!0;function Gu(){return cy}function qu(e){cy=e}function _b(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=$m(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Yu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function js(e,t,n){ly(e,t,3,n)}function Bs(e,t,n,r){(e[S]&3)===n&&ly(e,t,n,r)}function kl(e,t){let n=e[S];(n&3)===t&&(n&=16383,n+=1,e[S]=n)}function ly(e,t,n,r){let i=r!==void 0?e[xr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[xr]+=65536),(a<o||o==-1)&&(wb(e,n,t,c),e[xr]=(e[xr]&4294901760)+c+2),c++}function Ug(e,t){pt(4,e,t);let n=G(null);try{t.call(e)}finally{G(n),pt(5,e,t)}}function wb(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[S]>>14<e[xr]>>16&&(e[S]&3)===t&&(e[S]+=16384,Ug(a,o)):Ug(a,o)}var Pr=-1,Gn=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Cb(e){return e instanceof Gn}function Db(e){return(e.flags&8)!==0}function Eb(e){return(e.flags&16)!==0}var Fl={},nu=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=pa(r);let i=this.injector.get(t,Fl,r);return i!==Fl||n===Fl?i:this.parentInjector.get(t,n,r)}};function uy(e){return e!==Pr}function Xs(e){return e&32767}function Ib(e){return e>>16}function ea(e,t){let n=Ib(e),r=t;for(;n>0;)r=r[qr],n--;return r}var ru=!0;function $g(e){let t=ru;return ru=e,t}var bb=256,dy=bb-1,fy=5,Sb=0,gt={};function Tb(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fi)&&(r=n[Fi]),r==null&&(r=n[Fi]=Sb++);let i=r&dy,o=1<<i;t.data[e+(i>>fy)]|=o}function ta(e,t){let n=hy(e,t);if(n!==-1)return n;let r=t[$];r.firstCreatePass&&(e.injectorIndex=t.length,Ll(r.data,e),Ll(t,null),Ll(r.blueprint,null));let i=Zu(e,t),o=e.injectorIndex;if(uy(i)){let s=Xs(i),a=ea(i,t),c=a[$].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Ll(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hy(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Zu(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=vy(i),r===null)return Pr;if(n++,i=i[qr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Pr}function iu(e,t,n){Tb(e,t,n)}function py(e,t,n){if(n&P.Optional||e!==void 0)return e;ku(t,"NodeInjector")}function gy(e,t,n,r){if(n&P.Optional&&r===void 0&&(r=null),!(n&(P.Self|P.Host))){let i=e[jr],o=qe(void 0);try{return i?i.get(t,r,n&P.Optional):wm(t,r,n&P.Optional)}finally{qe(o)}}return py(r,t,n)}function my(e,t,n,r=P.Default,i){if(e!==null){if(t[S]&2048&&!(r&P.Self)){let s=Rb(e,t,n,r,gt);if(s!==gt)return s}let o=yy(e,t,n,r,gt);if(o!==gt)return o}return gy(t,n,r,i)}function yy(e,t,n,r,i){let o=Nb(n);if(typeof o=="function"){if(!ry(t,e,r))return r&P.Host?py(i,n,r):gy(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&P.Optional))ku(n);else return s}finally{ay()}}else if(typeof o=="number"){let s=null,a=hy(e,t),c=Pr,l=r&P.Host?t[yt][ot]:null;for((a===-1||r&P.SkipSelf)&&(c=a===-1?Zu(e,t):t[a+8],c===Pr||!zg(r,!1)?a=-1:(s=t[$],a=Xs(c),t=ea(c,t)));a!==-1;){let u=t[$];if(Hg(o,a,u.data)){let d=Mb(a,t,n,s,r,l);if(d!==gt)return d}c=t[a+8],c!==Pr&&zg(r,t[$].data[a+8]===l)&&Hg(o,a,t)?(s=u,a=Xs(c),t=ea(c,t)):a=-1}}return i}function Mb(e,t,n,r,i,o){let s=t[$],a=s.data[e+8],c=r==null?ya(a)&&ru:r!=s&&(a.type&3)!==0,l=i&P.Host&&o===a,u=Ab(a,s,n,c,l);return u!==null?$r(t,s,u,a):gt}function Ab(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&un(h)&&h.type===n)return c}return null}function $r(e,t,n,r){let i=e[n],o=t.data;if(Cb(i)){let s=i;s.resolving&&sI(oI(o[n]));let a=$g(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?qe(s.injectImpl):null,u=ry(e,r,P.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&_b(n,o[n],t)}finally{l!==null&&qe(l),$g(a),s.resolving=!1,ay()}}return i}function Nb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Fi)?e[Fi]:void 0;return typeof t=="number"?t>=0?t&dy:xb:t}function Hg(e,t,n){let r=1<<e;return!!(n[t+(e>>fy)]&r)}function zg(e,t){return!(e&P.Self)&&!(e&P.Host&&t)}var Un=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return my(this._tNode,this._lView,t,pa(r),n)}};function xb(){return new Un(Ne(),X())}function Vt(e){return zi(()=>{let t=e.prototype.constructor,n=t[Hs]||ou(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Hs]||ou(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ou(e){return pm(e)?()=>{let t=ou(Ee(e));return t&&t()}:kr(e)}function Rb(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[S]&2048&&!(s[S]&512);){let a=yy(o,s,n,r|P.Self,gt);if(a!==gt)return a;let c=o.parent;if(!c){let l=s[Vm];if(l){let u=l.get(n,gt,r);if(u!==gt)return u}c=vy(s),s=s[qr]}o=c}return i}function vy(e){let t=e[$],n=t.type;return n===2?t.declTNode:n===1?e[ot]:null}function Wg(e,t=null,n=null,r){let i=_y(e,t,n,r);return i.resolveInjectorInitializers(),i}function _y(e,t=null,n=null,r,i=new Set){let o=[n||Ye,kI(e)];return r=r||(typeof e=="object"?void 0:Ie(e)),new ji(o,t||Bu(),r||null,i)}var dn=class e{static{this.THROW_IF_NOT_FOUND=Li}static{this.NULL=new Gs}static create(t,n){if(Array.isArray(t))return Wg({name:""},n,t,"");{let r=t.name??"";return Wg({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=w({token:e,providedIn:"any",factory:()=>T(Im)})}static{this.__NG_ELEMENT_ID__=-1}};var Ob=new D("");Ob.__NG_ELEMENT_ID__=e=>{let t=Ne();if(t===null)throw new C(204,!1);if(t.type&2)return t.value;if(e&P.Optional)return null;throw new C(204,!1)};var Pb="ngOriginalError";function Vl(e){return e[Pb]}var wy=!0,Cy=(()=>{class e{static{this.__NG_ELEMENT_ID__=kb}static{this.__NG_ENV_ID__=n=>n}}return e})(),su=class extends Cy{constructor(t){super(),this._lView=t}onDestroy(t){return Zm(this._lView,t),()=>tb(this._lView,t)}};function kb(){return new su(X())}var mn=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})();var au=class extends ve{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,GI()&&(this.destroyRef=y(Cy,{optional:!0})??void 0,this.pendingTasks=y(mn,{optional:!0})??void 0)}emit(t){let n=G(null);try{super.next(t)}finally{G(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof se&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},fe=au;function na(...e){}function Dy(e){let t,n;function r(){e=na;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Gg(e){return queueMicrotask(()=>e()),()=>{e=na}}var Qu="isAngularZone",ra=Qu+"_ID",Fb=0,oe=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fe(!1),this.onMicrotaskEmpty=new fe(!1),this.onStable=new fe(!1),this.onError=new fe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wy}=t;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,jb(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,Lb,na,na);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Lb={};function Ku(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vb(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Dy(()=>{e.callbackScheduled=!1,cu(e),e.isCheckStableRunning=!0,Ku(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),cu(e)}function jb(e){let t=()=>{Vb(e)},n=Fb++;e._inner=e._inner.fork({name:"angular",properties:{[Qu]:!0,[ra]:n,[ra+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Bb(c))return r.invokeTask(o,s,a,c);try{return qg(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Yg(e)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return qg(e),r.invoke(o,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Ub(c)&&t(),Yg(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,cu(e),Ku(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function cu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function qg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Yg(e){e._nesting--,Ku(e)}var lu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fe,this.onMicrotaskEmpty=new fe,this.onStable=new fe,this.onError=new fe}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function Bb(e){return Ey(e,"__ignore_ng_zone__")}function Ub(e){return Ey(e,"__scheduler_tick__")}function Ey(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Ot=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Vl(t);for(;n&&Vl(n);)n=Vl(n);return n||null}},$b=new D("",{providedIn:"root",factory:()=>{let e=y(oe),t=y(Ot);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Hb(){return Ca(Ne(),X())}function Ca(e,t){return new _t(Ke(e,t))}var _t=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Hb}}return e})();function Iy(e){return(e.flags&128)===128}var by=new Map,zb=0;function Wb(){return zb++}function Gb(e){by.set(e[ma],e)}function uu(e){by.delete(e[ma])}var Zg="__ngContext__";function qn(e,t){an(t)?(e[Zg]=t[ma],Gb(t)):e[Zg]=t}function Sy(e){return My(e[Bi])}function Ty(e){return My(e[nt])}function My(e){for(;e!==null&&!Lt(e);)e=e[nt];return e}var du;function Ay(e){du=e}function qb(){if(du!==void 0)return du;if(typeof document<"u")return document;throw new C(210,!1)}var Ju=new D("",{providedIn:"root",factory:()=>Yb}),Yb="ng",Xu=new D(""),yn=new D("",{providedIn:"platform",factory:()=>"unknown"});var ed=new D("",{providedIn:"root",factory:()=>qb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Zb="h",Qb="b";var Kb=()=>null;function td(e,t,n=!1){return Kb(e,t,n)}var Ny=!1,Jb=new D("",{providedIn:"root",factory:()=>Ny});var fu=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZE})`}};function nd(e){return e instanceof fu?e.changingThisBreaksApplicationSecurity:e}function xy(e){return e instanceof Function?e():e}var Pt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Pt||{}),Xb;function rd(e,t){return Xb(e,t)}function Rr(e,t,n,r,i){if(r!=null){let o,s=!1;Lt(r)?o=r:an(r)&&(s=!0,r=r[Ft]);let a=vt(r);e===0&&n!==null?i==null?Fy(t,n,a):ia(t,n,a,i||null,!0):e===1&&n!==null?ia(t,n,a,i||null,!0):e===2?p0(t,a,s):e===3&&t.destroyNode(a),o!=null&&m0(t,e,o,n,i)}}function e0(e,t){return e.createText(t)}function t0(e,t,n){e.setValue(t,n)}function Ry(e,t,n){return e.createElement(t,n)}function n0(e,t){Oy(e,t),t[Ft]=null,t[ot]=null}function r0(e,t,n,r,i,o){r[Ft]=i,r[ot]=t,Da(e,r,n,1,i,o)}function Oy(e,t){t[Rt].changeDetectionScheduler?.notify(9),Da(e,t,t[he],2,null,null)}function i0(e){let t=e[Bi];if(!t)return jl(e[$],e);for(;t;){let n=null;if(an(t))n=t[Bi];else{let r=t[Qe];r&&(n=r)}if(!n){for(;t&&!t[nt]&&t!==e;)an(t)&&jl(t[$],t),t=t[be];t===null&&(t=e),an(t)&&jl(t[$],t),n=t&&t[nt]}t=n}}function o0(e,t,n,r){let i=Qe+r,o=n.length;r>0&&(n[i-1][nt]=t),r<o-Qe?(t[nt]=n[i],Em(n,Qe+r,t)):(n.push(t),t[nt]=null),t[be]=n;let s=t[Br];s!==null&&n!==s&&Py(s,t);let a=t[Ur];a!==null&&a.insertView(e),eu(t),t[S]|=128}function Py(e,t){let n=e[Qs],r=t[be];if(an(r))e[S]|=Ks.HasTransplantedViews;else{let i=r[be][yt];t[yt]!==i&&(e[S]|=Ks.HasTransplantedViews)}n===null?e[Qs]=[t]:n.push(t)}function id(e,t){let n=e[Qs],r=n.indexOf(t);n.splice(r,1)}function hu(e,t){if(e.length<=Qe)return;let n=Qe+t,r=e[n];if(r){let i=r[Br];i!==null&&i!==e&&id(i,r),t>0&&(e[n-1][nt]=r[nt]);let o=Ws(e,Qe+t);n0(r[$],r);let s=o[Ur];s!==null&&s.detachView(o[$]),r[be]=null,r[nt]=null,r[S]&=-129}return r}function ky(e,t){if(!(t[S]&256)){let n=t[he];n.destroyNode&&Da(e,t,n,3,null,null),i0(t)}}function jl(e,t){if(t[S]&256)return;let n=G(null);try{t[S]&=-129,t[S]|=256,t[Ze]&&hl(t[Ze]),a0(e,t),s0(e,t),t[$].type===1&&t[he].destroy();let r=t[Br];if(r!==null&&Lt(t[be])){r!==t[be]&&id(r,t);let i=t[Ur];i!==null&&i.detachView(e)}uu(t)}finally{G(n)}}function s0(e,t){let n=e.cleanup,r=t[Ys];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Ys]=null);let i=t[sn];if(i!==null){t[sn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function a0(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Gn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];pt(4,a,c);try{c.call(a)}finally{pt(5,a,c)}}else{pt(4,i,o);try{o.call(i)}finally{pt(5,i,o)}}}}}function c0(e,t,n){return l0(e,t.parent,n)}function l0(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ft];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===mt.None||o===mt.Emulated)return null}return Ke(r,n)}}function ia(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Fy(e,t,n){e.appendChild(t,n)}function Qg(e,t,n,r,i){r!==null?ia(e,t,n,r,i):Fy(e,t,n)}function Ly(e,t){return e.parentNode(t)}function u0(e,t){return e.nextSibling(t)}function d0(e,t,n){return h0(e,t,n)}function f0(e,t,n){return e.type&40?Ke(e,n):null}var h0=f0,Kg;function od(e,t,n,r){let i=c0(e,r,t),o=t[he],s=r.parent||t[ot],a=d0(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Qg(o,i,n[c],a,!1);else Qg(o,i,n,a,!1);Kg!==void 0&&Kg(o,r,t,n,i)}function Pi(e,t){if(t!==null){let n=t.type;if(n&3)return Ke(t,e);if(n&4)return pu(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Pi(e,r);{let i=e[t.index];return Lt(i)?pu(-1,i):vt(i)}}else{if(n&128)return Pi(e,t.next);if(n&32)return rd(t,e)()||vt(e[t.index]);{let r=Vy(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=zn(e[yt]);return Pi(i,r)}else return Pi(e,t.next)}}}return null}function Vy(e,t){if(t!==null){let r=e[yt][ot],i=t.projection;return r.projection[i]}return null}function pu(e,t){let n=Qe+e+1;if(n<t.length){let r=t[n],i=r[$].firstChild;if(i!==null)return Pi(r,i)}return t[Hn]}function p0(e,t,n){e.removeChild(null,t,n)}function sd(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&qn(vt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)sd(e,t,n.child,r,i,o,!1),Rr(t,e,i,a,o);else if(c&32){let l=rd(n,r),u;for(;u=l();)Rr(t,e,i,u,o);Rr(t,e,i,a,o)}else c&16?g0(e,t,r,n,i,o):Rr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Da(e,t,n,r,i,o){sd(n,r,e.firstChild,t,i,o,!1)}function g0(e,t,n,r,i,o){let s=n[yt],c=s[ot].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Rr(t,e,i,u,o)}else{let l=c,u=s[be];Iy(r)&&(l.flags|=128),sd(e,t,l,u,i,o,!0)}}function m0(e,t,n,r,i){let o=n[Hn],s=vt(n);o!==s&&Rr(t,e,r,o,i);for(let a=Qe;a<n.length;a++){let c=n[a];Da(c[$],c,e,t,r,o)}}function y0(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Pt.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pt.Important),e.setStyle(n,r,i,o))}}function v0(e,t,n){e.setAttribute(t,"style",n)}function jy(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function By(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Yl(e,t,r),i!==null&&jy(e,t,i),o!==null&&v0(e,t,o)}var Xn={};function ne(e=1){Uy($e(),X(),Qr()+e,!1)}function Uy(e,t,n,r){if(!r)if((t[S]&3)===3){let o=e.preOrderCheckHooks;o!==null&&js(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Bs(t,o,0,n)}Wn(n)}function H(e,t=P.Default){let n=X();if(n===null)return T(e,t);let r=Ne();return my(r,n,Ee(e),t)}function $y(e,t,n,r,i,o){let s=G(null);try{let a=null;i&cn.SignalBased&&(a=t[r][At]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&cn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):Um(t,a,r,o)}finally{G(s)}}function _0(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wn(~i);else{let o=i,s=n[++r],a=n[++r];hb(s,o);let c=t[o];a(2,c)}}}finally{Wn(-1)}}function Ea(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[Ft]=i,d[S]=r|4|128|8|64,(l!==null||e&&e[S]&2048)&&(d[S]|=2048),qm(d),d[be]=d[qr]=e,d[rt]=n,d[Rt]=s||e&&e[Rt],d[he]=a||e&&e[he],d[jr]=c||e&&e[jr]||null,d[ot]=o,d[ma]=Wb(),d[qs]=u,d[Vm]=l,d[yt]=t.type==2?e[yt]:d,d}function Ia(e,t,n,r,i){let o=e.data[t];if(o===null)o=w0(e,t,n,r,i),fb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=cb();o.injectorIndex=s===null?-1:s.injectorIndex}return qi(o,!0),o}function w0(e,t,n,r,i){let o=Jm(),s=Xm(),a=s?o:o&&o.parent,c=e.data[t]=b0(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Hy(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function zy(e,t,n,r,i){let o=Qr(),s=r&2;try{Wn(-1),s&&t.length>ln&&Uy(e,t,ln,!1),pt(s?2:0,i),n(r,i)}finally{Wn(o),pt(s?3:1,i)}}function Wy(e,t,n){if(Bm(t)){let r=G(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{G(r)}}}function Gy(e,t,n){Km()&&(x0(e,t,n,Ke(n,t)),(n.flags&64)===64&&Jy(e,t,n))}function qy(e,t,n=Ke){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function Yy(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ad(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ad(e,t,n,r,i,o,s,a,c,l,u){let d=ln+r,f=d+i,h=C0(d,f),p=typeof l=="function"?l():l;return h[$]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function C0(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Xn);return n}function D0(e,t,n,r){let o=r.get(Jb,Ny)||n===mt.ShadowDom,s=e.selectRootElement(t,o);return E0(s),s}function E0(e){I0(e)}var I0=()=>null;function b0(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return ob()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jg(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=cn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}e===0?Xg(r,n,l,a,c):Xg(r,n,l,a)}return r}function Xg(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function S0(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=Jg(0,d.inputs,u,c,h),l=Jg(1,d.outputs,u,l,p);let g=c!==null&&s!==null&&!Vu(t)?$0(c,u,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function T0(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Zy(e,t,n,r,i,o,s,a){let c=Ke(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?(cd(e,n,u,r,i),ya(t)&&M0(n,t.index)):t.type&3?(r=T0(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function M0(e,t){let n=gn(t,e);n[S]&16||(n[S]|=64)}function Qy(e,t,n,r){if(Km()){let i=r===null?null:{"":-1},o=O0(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Ky(e,t,n,s,i,a),i&&P0(n,r,i)}n.mergedAttrs=Vi(n.mergedAttrs,n.attrs)}function Ky(e,t,n,r,i,o){for(let l=0;l<r.length;l++)iu(ta(n,t),e,r[l].type);F0(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Hy(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Vi(n.mergedAttrs,u.hostAttrs),L0(e,n,t,c,u),k0(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}S0(e,n,o)}function A0(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;N0(s)!=a&&s.push(a),s.push(n,r,o)}}function N0(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function x0(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;ya(n)&&V0(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ta(n,t),qn(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],l=$r(t,e,a,n);if(qn(l,t),s!==null&&U0(t,a-i,l,c,n,s),un(c)){let u=gn(n.index,t);u[rt]=$r(t,e,a,n)}}}function Jy(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=pb();try{Wn(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];tu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&R0(c,l)}}finally{Wn(-1),tu(s)}}function R0(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function O0(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(SI(t,s.selectors,!1))if(r||(r=[]),un(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;gu(e,t,c)}else r.unshift(s),gu(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function gu(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function P0(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new C(-301,!1);r.push(t[i],o)}}}function k0(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;un(t)&&(n[""]=e)}}function F0(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function L0(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=kr(i.type,!0)),s=new Gn(o,un(i),H);e.blueprint[r]=s,n[r]=s,A0(e,t,r,Hy(e,n,i.hostVars,Xn),i)}function V0(e,t,n){let r=Ke(t,e),i=Yy(n),o=e[Rt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ba(e,Ea(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function j0(e,t,n,r,i,o){let s=Ke(e,t);B0(t[he],s,o,e.value,n,r,i)}function B0(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Pu(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function U0(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];$y(r,n,c,l,u,d)}}function $0(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Xy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function ev(e,t){let n=e.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];ny(o),a.contentQueries(2,t[s],s)}}}finally{G(r)}}}function ba(e,t){return e[Bi]?e[Vg][nt]=t:e[Bi]=t,e[Vg]=t,t}function mu(e,t,n){ny(0);let r=G(null);try{t(e,n)}finally{G(r)}}function H0(e){return e[Ys]??=[]}function z0(e){return e.cleanup??=[]}function tv(e,t){let n=e[jr],r=n?n.get(Ot,null):null;r&&r.handleError(t)}function cd(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=t[s],u=e.data[s];$y(u,l,r,a,c,i)}}function W0(e,t,n){let r=Wm(t,e);t0(e[he],r,n)}function G0(e,t){let n=gn(t,e),r=n[$];q0(r,n);let i=n[Ft];i!==null&&n[qs]===null&&(n[qs]=td(i,n[jr])),ld(r,n,n[rt])}function q0(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ld(e,t,n){Hu(t);try{let r=e.viewQuery;r!==null&&mu(1,r,n);let i=e.template;i!==null&&zy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ur]?.finishViewCreation(e),e.staticContentQueries&&ev(e,t),e.staticViewQueries&&mu(2,e.viewQuery,n);let o=e.components;o!==null&&Y0(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[S]&=-5,zu()}}function Y0(e,t){for(let n=0;n<t.length;n++)G0(e,t[n])}function Z0(e,t,n,r){let i=G(null);try{let o=t.tView,a=e[S]&4096?4096:16,c=Ea(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Br]=l;let u=e[Ur];return u!==null&&(c[Ur]=u.createEmbeddedView(o)),ld(o,c,n),c}finally{G(i)}}function em(e,t){return!t||t.firstChild===null||Iy(e)}function Q0(e,t,n,r=!0){let i=t[$];if(o0(i,t,e,n),r){let s=pu(n,e),a=t[he],c=Ly(a,e[Hn]);c!==null&&r0(i,e[ot],a,t,c,s)}let o=t[qs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function oa(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(vt(o)),Lt(o)&&K0(o,r);let s=n.type;if(s&8)oa(e,t,n.child,r);else if(s&32){let a=rd(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Vy(t,n);if(Array.isArray(a))r.push(...a);else{let c=zn(t[yt]);oa(c[$],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function K0(e,t){for(let n=Qe;n<e.length;n++){let r=e[n],i=r[$].firstChild;i!==null&&oa(r[$],r,i,t)}e[Hn]!==e[Ft]&&t.push(e[Hn])}var nv=[];function J0(e){return e[Ze]??X0(e)}function X0(e){let t=nv.pop()??Object.create(tS);return t.lView=e,t}function eS(e){e.lView[Ze]!==e&&(e.lView=null,nv.push(e))}var tS=B(v({},xi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{_a(e.lView)},consumerOnSignalRead(){this.lView[Ze]=this}});function nS(e){let t=e[Ze]??Object.create(rS);return t.lView=e,t}var rS=B(v({},xi),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=zn(e.lView);for(;t&&!rv(t[$]);)t=zn(t);t&&Ym(t)},consumerOnSignalRead(){this.lView[Ze]=this}});function rv(e){return e.type!==2}var iS=100;function iv(e,t=!0,n=0){let r=e[Rt],i=r.rendererFactory,o=!1;o||i.begin?.();try{oS(e,n)}catch(s){throw t&&tv(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function oS(e,t){let n=ey();try{Bg(!0),yu(e,t);let r=0;for(;va(e);){if(r===iS)throw new C(103,!1);r++,yu(e,1)}}finally{Bg(n)}}function sS(e,t,n,r){let i=t[S];if((i&256)===256)return;let o=!1,s=!1;!o&&t[Rt].inlineEffectRunner?.flush(),Hu(t);let a=!0,c=null,l=null;o||(rv(e)?(l=J0(t),c=as(l)):zp()===null?(a=!1,l=nS(t),c=as(l)):t[Ze]&&(hl(t[Ze]),t[Ze]=null));try{qm(t),ub(e.bindingStartIndex),n!==null&&zy(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&js(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Bs(t,h,0,null),kl(t,0)}if(s||aS(t),ov(t,0),e.contentQueries!==null&&ev(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&js(t,h)}else{let h=e.contentHooks;h!==null&&Bs(t,h,1),kl(t,1)}_0(e,t);let d=e.components;d!==null&&av(t,d,0);let f=e.viewQuery;if(f!==null&&mu(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&js(t,h)}else{let h=e.viewHooks;h!==null&&Bs(t,h,2),kl(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Pl]){for(let h of t[Pl])h();t[Pl]=null}o||(t[S]&=-73)}catch(u){throw o||_a(t),u}finally{l!==null&&(dl(l,c),a&&eS(l)),zu()}}function ov(e,t){for(let n=Sy(e);n!==null;n=Ty(n))for(let r=Qe;r<n.length;r++){let i=n[r];sv(i,t)}}function aS(e){for(let t=Sy(e);t!==null;t=Ty(t)){if(!(t[S]&Ks.HasTransplantedViews))continue;let n=t[Qs];for(let r=0;r<n.length;r++){let i=n[r];Ym(i)}}}function cS(e,t,n){let r=gn(t,e);sv(r,n)}function sv(e,t){$u(e)&&yu(e,t)}function yu(e,t){let r=e[$],i=e[S],o=e[Ze],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&fl(o)),s||=!1,o&&(o.dirty=!1),e[S]&=-9217,s)sS(r,e,r.template,e[rt]);else if(i&8192){ov(e,1);let a=r.components;a!==null&&av(e,a,1)}}function av(e,t,n){for(let r=0;r<t.length;r++)cS(e,t[r],n)}function ud(e,t){let n=ey()?64:1088;for(e[Rt].changeDetectionScheduler?.notify(t);e;){e[S]|=n;let r=zn(e);if(Jl(e)&&!r)return e;e=r}return null}var Yn=class{get rootNodes(){let t=this._lView,n=t[$];return oa(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(t){this._lView[rt]=t}get destroyed(){return(this._lView[S]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[be];if(Lt(t)){let n=t[Zs],r=n?n.indexOf(this):-1;r>-1&&(hu(t,r),Ws(n,r))}this._attachedToViewContainer=!1}ky(this._lView[$],this._lView)}onDestroy(t){Zm(this._lView,t)}markForCheck(){ud(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[S]&=-129}reattach(){eu(this._lView),this._lView[S]|=128}detectChanges(){this._lView[S]|=1024,iv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Jl(this._lView),n=this._lView[Br];n!==null&&!t&&id(n,this._lView),Oy(this._lView[$],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=t;let n=Jl(this._lView),r=this._lView[Br];r!==null&&!n&&Py(r,this._lView),eu(this._lView)}},Sa=(()=>{class e{static{this.__NG_ELEMENT_ID__=dS}}return e})(),lS=Sa,uS=class extends lS{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=Z0(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Yn(i)}};function dS(){return fS(Ne(),X())}function fS(e,t){return e.type&4?new uS(t,e,Ca(e,t)):null}var AU=new RegExp(`^(\\d+)*(${Qb}|${Zb})*(.*)`);var hS=()=>null;function tm(e,t){return hS(e,t)}var Hr=class{},dd=new D("",{providedIn:"root",factory:()=>!1});var cv=new D(""),lv=new D(""),vu=class{},sa=class{};function pS(e){let t=Error(`No component factory found for ${Ie(e)}.`);return t[gS]=e,t}var gS="ngComponent";var _u=class{resolveComponentFactory(t){throw pS(t)}},zr=class{static{this.NULL=new _u}},Wr=class{},jt=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mS()}}return e})();function mS(){let e=X(),t=Ne(),n=gn(t.index,e);return(an(n)?n:e)[he]}var yS=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>null})}}return e})();function wu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Mg(i,a);else if(o==2){let c=a,l=t[++s];r=Mg(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var aa=class extends zr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=$n(t);return new Ui(n,this.ngModule)}};function nm(e,t){let n=[];for(let r in e){if(!e.hasOwnProperty(r))continue;let i=e[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:cn.None;t?n.push({propName:s,templateName:r,isSignal:(a&cn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function vS(e){let t=e.toLowerCase();return t==="svg"?KI:t==="math"?JI:null}var Ui=class extends sa{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=nm(t.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nm(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=NI(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=G(null);try{i=i||this.ngModule;let s=i instanceof Ae?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new nu(t,s):t,c=a.get(Wr,null);if(c===null)throw new C(407,!1);let l=a.get(yS,null),u=a.get(Hr,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?D0(f,r,this.componentDef.encapsulation,a):Ry(f,h,vS(h)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let _=null;p!==null&&(_=td(p,a,!0));let E=ad(0,null,null,1,0,null,null,null,null,null,null),J=Ea(null,E,null,g,null,null,d,f,a,null,_);Hu(J);let j,ce,Te=null;try{let le=this.componentDef,Mt,al=null;le.findHostDirectiveDefs?(Mt=[],al=new Map,le.findHostDirectiveDefs(le,Mt,al),Mt.push(le)):Mt=[le];let mE=_S(J,p);Te=wS(mE,p,le,Mt,J,d,f),ce=Gm(E,ln),p&&ES(f,le,p,r),n!==void 0&&IS(ce,this.ngContentSelectors,n),j=DS(Te,le,Mt,al,J,[bS]),ld(E,J,null)}catch(le){throw Te!==null&&uu(Te),uu(J),le}finally{zu()}return new Cu(this.componentType,j,Ca(ce,J),J,ce)}finally{G(o)}}},Cu=class extends vu{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yn(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;cd(o[$],o,i,t,n),this.previousInputValues.set(t,n);let s=gn(this._tNode.index,o);ud(s,1)}}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function _S(e,t){let n=e[$],r=ln;return e[r]=t,Ia(n,r,2,"#host",null)}function wS(e,t,n,r,i,o,s){let a=i[$];CS(r,e,t,s);let c=null;t!==null&&(c=td(t,i[jr]));let l=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Ea(i,Yy(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&gu(a,e,r.length-1),ba(i,d),i[e.index]=d}function CS(e,t,n,r){for(let i of e)t.mergedAttrs=Vi(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(wu(t,t.mergedAttrs,!0),n!==null&&By(r,n,t))}function DS(e,t,n,r,i,o){let s=Ne(),a=i[$],c=Ke(s,i);Ky(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=$r(i,a,d,s);qn(f,i)}Jy(a,i,s),c&&qn(c,i);let l=$r(i,a,s.directiveStart+s.componentOffset,s);if(e[rt]=i[rt]=l,o!==null)for(let u of o)u(l,t);return Wy(a,s,i),l}function ES(e,t,n,r){if(r)Yl(e,n,["ng-version","18.2.11"]);else{let{attrs:i,classes:o}=xI(t.selectors[0]);i&&Yl(e,n,i),o&&o.length>0&&jy(e,n,o.join(" "))}}function IS(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function bS(){let e=Ne();Yu(X()[$],e)}var Kr=(()=>{class e{static{this.__NG_ELEMENT_ID__=SS}}return e})();function SS(){let e=Ne();return MS(e,X())}var TS=Kr,uv=class extends TS{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){let t=Zu(this._hostTNode,this._hostLView);if(uy(t)){let n=ea(t,this._hostLView),r=Xs(t),i=n[$].data[r+8];return new Un(i,n)}else return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=rm(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=tm(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,em(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!qI(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?t:new Ui($n(t)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let g=(s?l:this.parentInjector).get(Ae,null);g&&(o=g)}let u=$n(c.componentType??{}),d=tm(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,em(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(XI(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[be],l=new uv(c,c[ot],c[be]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return Q0(s,i,o,r),t.attachToViewContainerRef(),Em(Bl(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=rm(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=hu(this._lContainer,n);r&&(Ws(Bl(this._lContainer),n),ky(r[$],r))}detach(t){let n=this._adjustIndex(t,-1),r=hu(this._lContainer,n);return r&&Ws(Bl(this._lContainer),n)!=null?new Yn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function rm(e){return e[Zs]}function Bl(e){return e[Zs]||(e[Zs]=[])}function MS(e,t){let n,r=t[e.index];return Lt(r)?n=r:(n=Xy(r,t,null,e),t[e.index]=n,ba(t,n)),NS(n,t,e,r),new uv(n,e,t)}function AS(e,t){let n=e[he],r=n.createComment(""),i=Ke(t,e),o=Ly(n,i);return ia(n,o,r,u0(n,i),!1),r}var NS=OS,xS=()=>!1;function RS(e,t,n){return xS(e,t,n)}function OS(e,t,n,r){if(e[Hn])return;let i;n.type&8?i=vt(r):i=AS(t,n),e[Hn]=i}var im=new Set;function Yi(e){im.has(e)||(im.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function PS(e){return typeof e=="function"&&e[At]!==void 0}function Ta(e,t){Yi("NgSignals");let n=tg(e),r=n[At];return t?.equal&&(r.equal=t.equal),n.set=i=>pl(r,i),n.update=i=>ng(r,i),n.asReadonly=kS.bind(n),n}function kS(){let e=this[At];if(e.readonlyFn===void 0){let t=()=>this();t[At]=e,e.readonlyFn=t}return e.readonlyFn}function dv(e){return PS(e)&&typeof e.set=="function"}function FS(e){return Object.getPrototypeOf(e.prototype).constructor}function wt(e){let t=FS(e.type),n=!0,r=[e];for(;t;){let i;if(un(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new C(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=ks(e.inputs),s.inputTransforms=ks(e.inputTransforms),s.declaredInputs=ks(e.declaredInputs),s.outputs=ks(e.outputs);let a=i.hostBindings;a&&US(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&jS(e,c),l&&BS(e,l),LS(e,i),KE(e.outputs,i.outputs),un(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===wt&&(n=!1)}}t=Object.getPrototypeOf(t)}VS(r)}function LS(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function VS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Vi(i.hostAttrs,n=Vi(n,i.hostAttrs))}}function ks(e){return e===Fr?{}:e===Ye?[]:e}function jS(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function BS(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function US(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}var fn=class{},$i=class{};var Du=class extends fn{constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aa(this);let o=xm(t);this._bootstrapComponents=xy(o.bootstrap),this._r3Injector=_y(t,n,[{provide:fn,useValue:this},{provide:zr,useValue:this.componentFactoryResolver},...r],Ie(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Eu=class extends $i{constructor(t){super(),this.moduleType=t}create(t){return new Du(this.moduleType,t,[])}};var ca=class extends fn{constructor(t){super(),this.componentFactoryResolver=new aa(this),this.instance=null;let n=new ji([...t.providers,{provide:fn,useValue:this},{provide:zr,useValue:this.componentFactoryResolver}],t.parent||Bu(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function fd(e,t,n=null){return new ca({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function fv(e){return HS(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function $S(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function HS(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function hv(e,t,n){return e[t]=n}function hn(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function zS(e,t,n,r){let i=hn(e,t,n);return hn(e,t+1,r)||i}function WS(e){return(e.flags&32)===32}function GS(e,t,n,r,i,o,s,a,c){let l=t.consts,u=Ia(t,e,4,s||null,a||null);Qy(t,n,u,Js(l,c)),Yu(t,u);let d=u.tView=ad(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function qS(e,t,n,r,i,o,s,a,c,l){let u=n+ln,d=t.firstCreatePass?GS(u,t,e,r,i,o,s,a,c):t.data[u];qi(d,!1);let f=YS(t,e,d,n);Gu()&&od(t,e,f,d),qn(f,e);let h=Xy(f,e,f,d);return e[u]=h,ba(e,h),RS(h,d,e),Uu(d)&&Gy(t,e,d),c!=null&&qy(e,d,l),d}function vn(e,t,n,r,i,o,s,a){let c=X(),l=$e(),u=Js(l.consts,o);return qS(c,l,e,t,n,r,i,u,s,a),vn}var YS=ZS;function ZS(e,t,n,r){return qu(!0),t[he].createComment("")}var ki=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ki||{}),QS=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}}return e})(),om=class e{constructor(){this.ngZone=y(oe),this.scheduler=y(Hr),this.errorHandler=y(Ot,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ki.EarlyRead,ki.Write,ki.MixedReadWrite,ki.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=w({token:e,providedIn:"root",factory:()=>new e})}};function Ma(e,t,n,r){let i=X(),o=wa();if(hn(i,o,t)){let s=$e(),a=Wu();j0(a,i,e,t,n,r)}return Ma}function KS(e,t,n,r){return hn(e,wa(),n)?t+Pu(n)+r:Xn}function Fs(e,t){return e<<17|t<<2}function Zn(e){return e>>17&32767}function JS(e){return(e&2)==2}function XS(e,t){return e&131071|t<<17}function Iu(e){return e|2}function Gr(e){return(e&131068)>>2}function Ul(e,t){return e&-131069|t<<2}function eT(e){return(e&1)===1}function bu(e){return e|1}function tT(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Zn(s),c=Gr(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Wi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Zn(e[a+1]);e[r+1]=Fs(f,a),f!==0&&(e[f+1]=Ul(e[f+1],r)),e[a+1]=XS(e[a+1],r)}else e[r+1]=Fs(a,0),a!==0&&(e[a+1]=Ul(e[a+1],r)),a=r;else e[r+1]=Fs(c,0),a===0?a=r:e[c+1]=Ul(e[c+1],r),c=r;l&&(e[r+1]=Iu(e[r+1])),sm(e,u,r,!0),sm(e,u,r,!1),nT(t,u,e,r,o),s=Fs(a,c),o?t.classBindings=s:t.styleBindings=s}function nT(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Wi(o,t)>=0&&(n[r+1]=bu(n[r+1]))}function sm(e,t,n,r){let i=e[n+1],o=t===null,s=r?Zn(i):Gr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];rT(c,t)&&(a=!0,e[s+1]=r?bu(l):Iu(l)),s=r?Zn(l):Gr(l)}a&&(e[n+1]=r?Iu(i):bu(i))}function rT(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Wi(e,t)>=0:!1}function Ct(e,t,n){let r=X(),i=wa();if(hn(r,i,t)){let o=$e(),s=Wu();Zy(o,s,r,e,t,r[he],n,!1)}return Ct}function am(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";cd(e,n,o[s],s,r)}function hd(e,t){return iT(e,t,null,!0),hd}function iT(e,t,n,r){let i=X(),o=$e(),s=db(2);if(o.firstUpdatePass&&sT(o,e,s,r),t!==Xn&&hn(i,s,t)){let a=o.data[Qr()];dT(o,a,i,i[he],e,i[s+1]=fT(t,n),r,s)}}function oT(e,t){return t>=e.expandoStartIndex}function sT(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Qr()],s=oT(e,n);hT(o,r)&&t===null&&!s&&(t=!1),t=aT(i,o,t,r),tT(i,o,t,n,s,r)}}function aT(e,t,n,r){let i=gb(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=$l(null,e,t,n,r),n=Hi(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=$l(i,e,t,n,r),o===null){let c=cT(e,t,r);c!==void 0&&Array.isArray(c)&&(c=$l(null,e,t,c[1],r),c=Hi(c,t.attrs,r),lT(e,t,r,c))}else o=uT(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function cT(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Gr(r)!==0)return e[Zn(r)]}function lT(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Zn(i)]=r}function uT(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Hi(r,s,n)}return Hi(r,t.attrs,n)}function $l(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Hi(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Hi(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),yI(e,s,n?!0:t[++o]))}return e===void 0?null:e}function dT(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=eT(l)?cm(c,t,n,i,Gr(l),s):void 0;if(!la(u)){la(o)||JS(l)&&(o=cm(c,null,n,i,a,s));let d=Wm(Qr(),n);y0(r,s,d,i,o)}}function cm(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Xn&&(f=d?Ye:void 0);let h=d?Rl(f,r):u===r?f:void 0;if(l&&!la(h)&&(h=Rl(c,r)),la(h)&&(a=h,s))return a;let p=e[i+1];i=s?Zn(p):Gr(p)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=Rl(c,r))}return a}function la(e){return e!==void 0}function fT(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ie(nd(e)))),e}function hT(e,t){return(e.flags&(t?8:16))!==0}function pT(e,t,n,r,i,o){let s=t.consts,a=Js(s,i),c=Ia(t,e,2,r,a);return Qy(t,n,c,Js(s,o)),c.attrs!==null&&wu(c,c.attrs,!1),c.mergedAttrs!==null&&wu(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function N(e,t,n,r){let i=X(),o=$e(),s=ln+e,a=i[he],c=o.firstCreatePass?pT(s,o,i,t,n,r):o.data[s],l=gT(o,i,c,a,t,e);i[s]=l;let u=Uu(c);return qi(c,!0),By(a,l,c),!WS(c)&&Gu()&&od(o,i,l,c),nb()===0&&qn(l,i),rb(),u&&(Gy(o,i,c),Wy(o,c,i)),r!==null&&qy(i,c),N}function O(){let e=Ne();Xm()?lb():(e=e.parent,qi(e,!1));let t=e;sb(t)&&ab(),ib();let n=$e();return n.firstCreatePass&&(Yu(n,e),Bm(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&Db(t)&&am(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Eb(t)&&am(n,t,X(),t.stylesWithoutHost,!1),O}function Zi(e,t,n,r){return N(e,t,n,r),O(),Zi}var gT=(e,t,n,r,i,o)=>(qu(!0),Ry(r,i,vb()));function Qi(){return X()}var ua="en-US";var mT=ua;function yT(e){typeof e=="string"&&(mT=e.toLowerCase().replace(/_/g,"-"))}var vT=(e,t,n)=>{};function He(e,t,n,r){let i=X(),o=$e(),s=Ne();return pv(o,i,i[he],s,e,t,r),He}function _T(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Ys],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function pv(e,t,n,r,i,o,s){let a=Uu(r),l=e.firstCreatePass&&z0(e),u=t[rt],d=H0(t),f=!0;if(r.type&3||s){let g=Ke(r,t),_=s?s(g):g,E=d.length,J=s?ce=>s(vt(ce[r.index])):r.index,j=null;if(!s&&a&&(j=_T(e,t,i,r.index)),j!==null){let ce=j.__ngLastListenerFn__||j;ce.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,f=!1}else{o=um(r,t,u,o),vT(g,i,o);let ce=n.listen(_,i,o);d.push(o,ce),l&&l.push(i,J,E,E+1)}}else o=um(r,t,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let g=p.length;if(g)for(let _=0;_<g;_+=2){let E=p[_],J=p[_+1],Te=t[E][J].subscribe(o),le=d.length;d.push(o,Te),l&&l.push(i,r.index,le,-(le+1))}}}function lm(e,t,n,r){let i=G(null);try{return pt(6,t,n),n(r)!==!1}catch(o){return tv(e,o),!1}finally{pt(7,t,n),G(i)}}function um(e,t,n,r){return function i(o){if(o===Function)return r;let s=e.componentOffset>-1?gn(e.index,t):t;ud(s,5);let a=lm(t,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=lm(t,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function st(e=1){return yb(e)}function Q(e,t=""){let n=X(),r=$e(),i=e+ln,o=r.firstCreatePass?Ia(r,i,1,t,null):r.data[i],s=wT(r,n,o,t,e);n[i]=s,Gu()&&od(r,n,s,o),qi(o,!1)}var wT=(e,t,n,r,i)=>(qu(!0),e0(t[he],r));function _n(e){return wn("",e,""),_n}function wn(e,t,n){let r=X(),i=KS(r,e,t,n);return i!==Xn&&W0(r,Qr(),i),wn}function Bt(e,t,n){dv(t)&&(t=t());let r=X(),i=wa();if(hn(r,i,t)){let o=$e(),s=Wu();Zy(o,s,r,e,t,r[he],n,!1)}return Bt}function Cn(e,t){let n=dv(e);return n&&e.set(t),n}function Ut(e,t){let n=X(),r=$e(),i=Ne();return pv(r,n,n[he],i,e,t),Ut}function CT(e,t,n){let r=$e();if(r.firstCreatePass){let i=un(e);Su(n,r.data,r.blueprint,i,!0),Su(t,r.data,r.blueprint,i,!1)}}function Su(e,t,n,r,i){if(e=Ee(e),Array.isArray(e))for(let o=0;o<e.length;o++)Su(e[o],t,n,r,i);else{let o=$e(),s=X(),a=Ne(),c=Vr(e)?e:Ee(e.provide),l=Lm(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Vr(e)||!e.multi){let h=new Gn(l,i,H),p=zl(c,t,i?u:u+f,d);p===-1?(iu(ta(a,s),o,c),Hl(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=zl(c,t,u+f,d),p=zl(c,t,u,u+f),g=h>=0&&n[h],_=p>=0&&n[p];if(i&&!_||!i&&!g){iu(ta(a,s),o,c);let E=IT(i?ET:DT,n.length,i,r,l);!i&&_&&(n[p].providerFactory=E),Hl(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=gv(n[i?p:h],l,!i&&r);Hl(o,e,h>-1?h:p,E)}!i&&r&&_&&n[p].componentProviders++}}}function Hl(e,t,n,r){let i=Vr(t),o=jI(t);if(i||o){let c=(o?Ee(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function gv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function zl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function DT(e,t,n,r){return Tu(this.multi,[])}function ET(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=$r(n,n[$],this.providerFactory.index,r);o=a.slice(0,s),Tu(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Tu(i,o);return o}function Tu(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function IT(e,t,n,r,i){let o=new Gn(e,n,H);return o.multi=[],o.index=t,o.componentProviders=0,gv(o,i,r&&!n),o}function $t(e,t=[]){return n=>{n.providersResolver=(r,i)=>CT(r,i?i(e):e,t)}}var bT=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Pm(!1,n.type),i=r.length>0?fd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=w({token:e,providedIn:"environment",factory:()=>new e(T(Ae))})}}return e})();function Dn(e){Yi("NgStandalone"),e.getStandaloneInjector=t=>t.get(bT).getOrCreateStandaloneInjector(e)}function mv(e,t,n,r){return ST(X(),ty(),e,t,n,r)}function yv(e,t,n,r,i){return TT(X(),ty(),e,t,n,r,i)}function vv(e,t){let n=e[t];return n===Xn?void 0:n}function ST(e,t,n,r,i,o){let s=t+n;return hn(e,s,i)?hv(e,s+1,o?r.call(o,i):r(i)):vv(e,s+1)}function TT(e,t,n,r,i,o,s){let a=t+n;return zS(e,a,i,o)?hv(e,a+2,s?r.call(s,i,o):r(i,o)):vv(e,a+2)}var Aa=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var _v=new D("");function er(e){return!!e&&typeof e.then=="function"}function wv(e){return!!e&&typeof e.subscribe=="function"}var Cv=new D(""),Dv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=y(Cv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(er(o))n.push(o);else if(wv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Na=new D("");function MT(){eg(()=>{throw new C(600,!1)})}function AT(e){return e.isBoundToModule}var NT=10;function xT(e,t,n){try{let r=n();return er(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var En=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y($b),this.afterRenderManager=y(QS),this.zonelessEnabled=y(dd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ve,this.afterTick=new ve,this.componentTypes=[],this.components=[],this.isStable=y(mn).hasPendingTasks.pipe(M(n=>!n)),this._injector=y(Ae)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof sa;if(!this._injector.get(Dv).done){let f=!i&&Nm(n),h=!1;throw new C(405,h)}let s;i?s=n:s=this._injector.get(zr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=AT(s)?void 0:this._injector.get(fn),c=r||s.selector,l=s.create(dn.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(_v,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Us(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new C(101,!1);let n=G(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,G(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Wr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<NT;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)RT(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>va(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Us(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Na,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Us(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Us(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function RT(e,t,n,r){if(!n&&!va(e))return;iv(e,t,n&&!r?0:1)}var Mu=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},pd=(()=>{class e{compileModuleSync(n){return new Eu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=xm(n),o=xy(i.declarations).reduce((s,a)=>{let c=$n(a);return c&&s.push(new Ui(c)),s},[]);return new Mu(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var OT=(()=>{class e{constructor(){this.zone=y(oe),this.changeDetectionScheduler=y(Hr),this.applicationRef=y(En)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function PT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new oe(B(v({},kT()),{scheduleInRootZone:n})),[{provide:oe,useFactory:e},{provide:Lr,multi:!0,useFactory:()=>{let r=y(OT,{optional:!0});return()=>r.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{let r=y(FT);return()=>{r.initialize()}}},t===!0?{provide:cv,useValue:!0}:[],{provide:lv,useValue:n??wy}]}function kT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var FT=(()=>{class e{constructor(){this.subscription=new se,this.initialized=!1,this.zone=y(oe),this.pendingTasks=y(mn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var LT=(()=>{class e{constructor(){this.appRef=y(En),this.taskService=y(mn),this.ngZone=y(oe),this.zonelessEnabled=y(dd),this.disableScheduling=y(cv,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new se,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ra):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(lv,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Gg:Dy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ra+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function VT(){return typeof $localize<"u"&&$localize.locale||ua}var gd=new D("",{providedIn:"root",factory:()=>y(gd,P.Optional|P.SkipSelf)||VT()});var Au=new D("");function Ls(e){return!e.moduleRef}function jT(e){let t=Ls(e)?e.r3Injector:e.moduleRef.injector,n=t.get(oe);return n.run(()=>{Ls(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Ot,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ls(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Au);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Au);s.add(o),e.moduleRef.onDestroy(()=>{Us(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return xT(r,n,()=>{let o=t.get(Dv);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(gd,ua);if(yT(s||ua),Ls(e)){let a=t.get(En);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return BT(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function BT(e,t){let n=e.injector.get(En);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new C(-403,!1);t.push(e)}var $s=null;function UT(e=[],t){return dn.create({name:t,providers:[{provide:ga,useValue:"platform"},{provide:Au,useValue:new Set([()=>$s=null])},...e]})}function $T(e=[]){if($s)return $s;let t=UT(e);return $s=t,MT(),HT(t),t}function HT(e){e.get(Xu,null)?.forEach(n=>n())}var tr=(()=>{class e{static{this.__NG_ELEMENT_ID__=zT}}return e})();function zT(e){return WT(Ne(),X(),(e&16)===16)}function WT(e,t,n){if(ya(e)&&!n){let r=gn(e.index,t);return new Yn(r,r)}else if(e.type&175){let r=t[yt];return new Yn(r,t)}return null}var Nu=class{constructor(){}supports(t){return fv(t)}create(t){return new xu(t)}},GT=(e,t)=>t,xu=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||GT}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<dm(r,i,o)?n:r,a=dm(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!fv(t))throw new C(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,$S(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Ru(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new da),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new da),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ru=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ou=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},da=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Ou,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dm(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function fm(){return new md([new Nu])}var md=(()=>{class e{static{this.\u0275prov=w({token:e,providedIn:"root",factory:fm})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||fm()),deps:[[e,new Dm,new Fu]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new C(901,!1)}}return e})();function Ev(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=$T(r),o=[PT({}),{provide:Hr,useExisting:LT},...n||[]],s=new ca({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return jT({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function xa(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ra(e,t){Yi("NgSignals");let n=Kp(e);return t?.equal&&(n[At].equal=t.equal),n}function In(e){let t=G(null);try{return e()}finally{G(t)}}var Av=null;function zt(){return Av}function Nv(e){Av??=e}var Oa=class{};var xe=new D(""),xv=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>y(QT),providedIn:"platform"})}}return e})();var QT=(()=>{class e extends xv{constructor(){super(),this._doc=y(xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zt().getBaseHref(this._doc)}onPopState(n){let r=zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=zt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Rv(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Iv(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function nr(e){return e&&e[0]!=="?"?"?"+e:e}var Pa=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>y(Ov),providedIn:"root"})}}return e})(),KT=new D(""),Ov=(()=>{class e extends Pa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+nr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+nr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(T(xv),T(KT,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ki=(()=>{class e{constructor(n){this._subject=new fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=eM(Iv(bv(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+nr(r))}normalize(n){return e.stripTrailingSlash(XT(this._basePath,bv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=nr}static{this.joinWithSlash=Rv}static{this.stripTrailingSlash=Iv}static{this.\u0275fac=function(r){return new(r||e)(T(Pa))}}static{this.\u0275prov=w({token:e,factory:()=>JT(),providedIn:"root"})}}return e})();function JT(){return new Ki(T(Pa))}function XT(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function bv(e){return e.replace(/\/index.html$/,"")}function eM(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function ka(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var yd=/\s+/,Sv=[],Pv=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Sv,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(yd):Sv}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(yd):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(yd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(H(_t),H(jt))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var vd=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Fa=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new vd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Tv(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Tv(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(H(Kr),H(Sa),H(md))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Tv(e,t){e.context.$implicit=t.item}var kv=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new _d,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Mv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Mv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(H(Kr),H(Sa))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),_d=class{constructor(){this.$implicit=null,this.ngIf=null}};function Mv(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ie(t)}'.`)}var Fv="browser",tM="server";function La(e){return e===tM}var Jr=class{};var Xi=class{},ja=class{},Wt=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Dd=class{encodeKey(t){return Lv(t)}encodeValue(t){return Lv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function rM(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var iM=/%(\d[a-f0-9])/gi,oM={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lv(e){return encodeURIComponent(e).replace(iM,(t,n)=>oM[n]??t)}function Va(e){return`${e}`}var Sn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Dd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=rM(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Va):[Va(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Va(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Va(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Ed=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function sM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Vv(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function jv(e){return typeof Blob<"u"&&e instanceof Blob}function Bv(e){return typeof FormData<"u"&&e instanceof FormData}function aM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ji=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(sM(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Wt,this.context??=new Ed,!this.params)this.params=new Sn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Vv(this.body)||jv(this.body)||Bv(this.body)||aM(this.body)?this.body:this.body instanceof Sn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bv(this.body)?null:jv(this.body)?this.body.type||null:Vv(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Sn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new e(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Tn=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Tn||{}),eo=class{constructor(t,n=200,r="OK"){this.headers=t.headers||new Wt,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ba=class e extends eo{constructor(t={}){super(t),this.type=Tn.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},to=class e extends eo{constructor(t={}){super(t),this.type=Tn.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},bn=class extends eo{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},zv=200,cM=204;function Cd(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Sd=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ji)o=n;else{let c;i.headers instanceof Wt?c=i.headers:c=new Wt(i.headers);let l;i.params&&(i.params instanceof Sn?l=i.params:l=new Sn({fromObject:i.params})),o=new Ji(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=b(o).pipe(nn(c=>this.handler.handle(c)));if(n instanceof Ji||i.observe==="events")return s;let a=s.pipe(Be(c=>c instanceof to));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(M(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(M(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(M(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(M(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Sn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Cd(i,r))}post(n,r,i={}){return this.request("POST",n,Cd(i,r))}put(n,r,i={}){return this.request("PUT",n,Cd(i,r))}static{this.\u0275fac=function(r){return new(r||e)(T(Xi))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),lM=/^\)\]\}',?\n/,uM="X-Request-URL";function Uv(e){if(e.url)return e.url;let t=uM.toLocaleLowerCase();return e.headers.get(t)}var dM=(()=>{class e{constructor(){this.fetchImpl=y(Id,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=y(oe)}handle(n){return new z(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(bd,o=>r.error(new bn({error:o}))),()=>i.abort()})}doRequest(n,r,i){return I(this,null,function*(){let o=this.createRequestInit(n),s;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,v({signal:r},o)));fM(h),i.next({type:Tn.Sent}),s=yield h}catch(h){i.error(new bn({error:h,status:h.status??0,statusText:h.statusText,url:n.urlWithParams,headers:h.headers}));return}let a=new Wt(s.headers),c=s.statusText,l=Uv(s)??n.urlWithParams,u=s.status,d=null;if(n.reportProgress&&i.next(new Ba({headers:a,status:u,statusText:c,url:l})),s.body){let h=s.headers.get("content-length"),p=[],g=s.body.getReader(),_=0,E,J,j=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:Te,value:le}=yield g.read();if(Te)break;if(p.push(le),_+=le.length,n.reportProgress){J=n.responseType==="text"?(J??"")+(E??=new TextDecoder).decode(le,{stream:!0}):void 0;let Mt=()=>i.next({type:Tn.DownloadProgress,total:h?+h:void 0,loaded:_,partialText:J});j?j.run(Mt):Mt()}}}));let ce=this.concatChunks(p,_);try{let Te=s.headers.get("Content-Type")??"";d=this.parseBody(n,ce,Te)}catch(Te){i.error(new bn({error:Te,headers:new Wt(s.headers),status:s.status,statusText:s.statusText,url:Uv(s)??n.urlWithParams}));return}}u===0&&(u=d?zv:0),u>=200&&u<300?(i.next(new to({body:d,headers:a,status:u,statusText:c,url:l})),i.complete()):i.error(new bn({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(lM,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Id=class{};function bd(){}function fM(e){e.then(bd,bd)}function hM(e,t){return t(e)}function pM(e,t,n){return(r,i)=>it(n,()=>t(r,o=>e(o,i)))}var Wv=new D(""),gM=new D(""),mM=new D("",{providedIn:"root",factory:()=>!0});var $v=(()=>{class e extends Xi{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=y(mn),this.contributeToStability=y(mM)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Wv),...this.injector.get(gM,[])]));this.chain=r.reduceRight((i,o)=>pM(i,o,this.injector),hM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Bn(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||e)(T(ja),T(Ae))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();var yM=/^\)\]\}',?\n/;function vM(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Hv=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?re(r.\u0275loadImpl()):b(null)).pipe(Ue(()=>new z(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,_)=>s.setRequestHeader(g,_.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader("Content-Type",g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let g=s.statusText||"OK",_=new Wt(s.getAllResponseHeaders()),E=vM(s)||n.url;return c=new Ba({headers:_,status:s.status,statusText:g,url:E}),c},u=()=>{let{headers:g,status:_,statusText:E,url:J}=l(),j=null;_!==cM&&(j=typeof s.response>"u"?s.responseText:s.response),_===0&&(_=j?zv:0);let ce=_>=200&&_<300;if(n.responseType==="json"&&typeof j=="string"){let Te=j;j=j.replace(yM,"");try{j=j!==""?JSON.parse(j):null}catch(le){j=Te,ce&&(ce=!1,j={error:le,text:j})}}ce?(o.next(new to({body:j,headers:g,status:_,statusText:E,url:J||void 0})),o.complete()):o.error(new bn({error:j,headers:g,status:_,statusText:E,url:J||void 0}))},d=g=>{let{url:_}=l(),E=new bn({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:_||void 0});o.error(E)},f=!1,h=g=>{f||(o.next(l()),f=!0);let _={type:Tn.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),n.responseType==="text"&&s.responseText&&(_.partialText=s.responseText),o.next(_)},p=g=>{let _={type:Tn.UploadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),o.next(_)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Tn.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(T(Jr))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Gv=new D(""),_M="XSRF-TOKEN",wM=new D("",{providedIn:"root",factory:()=>_M}),CM="X-XSRF-TOKEN",DM=new D("",{providedIn:"root",factory:()=>CM}),Ua=class{},EM=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ka(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(T(xe),T(yn),T(wM))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function IM(e,t){let n=e.url.toLowerCase();if(!y(Gv)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=y(Ua).getToken(),i=y(DM);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function qv(...e){let t=[Sd,Hv,$v,{provide:Xi,useExisting:$v},{provide:ja,useFactory:()=>y(dM,{optional:!0})??y(Hv)},{provide:Wv,useValue:IM,multi:!0},{provide:Gv,useValue:!0},{provide:Ua,useClass:EM}];for(let n of e)t.push(...n.\u0275providers);return Gi(t)}var Ad=class extends Oa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Nd=class e extends Ad{static makeCurrent(){Nv(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=SM();return n==null?null:TM(n)}resetBaseElement(){no=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ka(document.cookie,t)}},no=null;function SM(){return no=no||document.querySelector("base"),no?no.getAttribute("href"):null}function TM(e){return new URL(e,document.baseURI).pathname}var MM=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),xd=new D(""),Kv=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(T(xd),T(oe))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),$a=class{constructor(t){this._doc=t}},Td="ng-app-id",Jv=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=La(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Td}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Td),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Td,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(T(xe),T(Ju),T(ed,8),T(yn))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Md={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Od=/%COMP%/g,Xv="%COMP%",AM=`_nghost-${Xv}`,NM=`_ngcontent-${Xv}`,xM=!0,RM=new D("",{providedIn:"root",factory:()=>xM});function OM(e){return NM.replace(Od,e)}function PM(e){return AM.replace(Od,e)}function e_(e,t){return t.map(n=>n.replace(Od,e))}var Yv=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=La(a),this.defaultRenderer=new ro(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mt.ShadowDom&&(r=B(v({},r),{encapsulation:mt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ha?i.applyToHost(n):i instanceof io&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case mt.Emulated:o=new Ha(c,l,r,this.appId,u,s,a,d);break;case mt.ShadowDom:return new Rd(c,l,n,r,s,a,this.nonce,d);default:o=new io(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(T(Kv),T(Jv),T(Ju),T(RM),T(xe),T(yn),T(oe),T(ed))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),ro=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Md[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Zv(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Zv(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Md[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Md[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Pt.DashCase|Pt.Important)?t.style.setProperty(n,r,i&Pt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Pt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=zt().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Zv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Rd=class extends ro{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=e_(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},io=class extends ro{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?e_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ha=class extends io{constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=OM(l),this.hostAttr=PM(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},kM=(()=>{class e extends $a{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(T(xe))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),Qv=["alt","control","meta","shift"],FM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},VM=(()=>{class e extends $a{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zt().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Qv.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=FM[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Qv.forEach(s=>{if(s!==i){let a=LM[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(T(xe))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})();function t_(e,t){return Ev(v({rootComponent:e},jM(t)))}function jM(e){return{appProviders:[...zM,...e?.providers??[]],platformProviders:HM}}function BM(){Nd.makeCurrent()}function UM(){return new Ot}function $M(){return Ay(document),document}var HM=[{provide:yn,useValue:Fv},{provide:Xu,useValue:BM,multi:!0},{provide:xe,useFactory:$M,deps:[]}];var zM=[{provide:ga,useValue:"root"},{provide:Ot,useFactory:UM,deps:[]},{provide:xd,useClass:kM,multi:!0,deps:[xe,oe,yn]},{provide:xd,useClass:VM,multi:!0,deps:[xe]},Yv,Jv,Kv,{provide:Wr,useExisting:Yv},{provide:Jr,useClass:MM,deps:[]},[]];var n_=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(T(xe))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var x="primary",Do=Symbol("RouteTitle"),Vd=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ii(e){return new Vd(e)}function GM(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function qM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Dt(e[n],t[n]))return!1;return!0}function Dt(e,t){let n=e?jd(e):void 0,r=t?jd(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!u_(e[i],t[i]))return!1;return!0}function jd(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function u_(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function d_(e){return e.length>0?e[e.length-1]:null}function An(e){return Il(e)?e:er(e)?re(Promise.resolve(e)):b(e)}var YM={exact:h_,subset:p_},f_={exact:ZM,subset:QM,ignored:()=>!0};function r_(e,t,n){return YM[n.paths](e.root,t.root,n.matrixParams)&&f_[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function ZM(e,t){return Dt(e,t)}function h_(e,t,n){if(!ir(e.segments,t.segments)||!Ga(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!h_(e.children[r],t.children[r],n))return!1;return!0}function QM(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>u_(e[n],t[n]))}function p_(e,t,n){return g_(e,t,t.segments,n)}function g_(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!ir(i,n)||t.hasChildren()||!Ga(i,n,r))}else if(e.segments.length===n.length){if(!ir(e.segments,n)||!Ga(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!p_(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!ir(e.segments,i)||!Ga(e.segments,i,r)||!e.children[x]?!1:g_(e.children[x],t,o,r)}}function Ga(e,t,n){return t.every((r,i)=>f_[n](e[i].parameters,r.parameters))}var qt=class{constructor(t=new Y([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){return XM.serialize(this)}},Y=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qa(this)}},rr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ii(this.parameters),this._parameterMap}toString(){return y_(this)}};function KM(e,t){return ir(e,t)&&e.every((n,r)=>Dt(n.parameters,t[r].parameters))}function ir(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function JM(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===x&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==x&&(n=n.concat(t(i,r)))}),n}var ff=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>new fo,providedIn:"root"})}}return e})(),fo=class{parse(t){let n=new Ud(t);return new qt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${oo(t.root,!0)}`,r=nA(t.queryParams),i=typeof t.fragment=="string"?`#${eA(t.fragment)}`:"";return`${n}${r}${i}`}},XM=new fo;function qa(e){return e.segments.map(t=>y_(t)).join("/")}function oo(e,t){if(!e.hasChildren())return qa(e);if(t){let n=e.children[x]?oo(e.children[x],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==x&&r.push(`${i}:${oo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=JM(e,(r,i)=>i===x?[oo(e.children[x],!1)]:[`${i}:${oo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[x]!=null?`${qa(e)}/${n[0]}`:`${qa(e)}/(${n.join("//")})`}}function m_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function za(e){return m_(e).replace(/%3B/gi,";")}function eA(e){return encodeURI(e)}function Bd(e){return m_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ya(e){return decodeURIComponent(e)}function i_(e){return Ya(e.replace(/\+/g,"%20"))}function y_(e){return`${Bd(e.path)}${tA(e.parameters)}`}function tA(e){return Object.entries(e).map(([t,n])=>`;${Bd(t)}=${Bd(n)}`).join("")}function nA(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${za(n)}=${za(i)}`).join("&"):`${za(n)}=${za(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var rA=/^[^\/()?;#]+/;function Pd(e){let t=e.match(rA);return t?t[0]:""}var iA=/^[^\/()?;=#]+/;function oA(e){let t=e.match(iA);return t?t[0]:""}var sA=/^[^=?&#]+/;function aA(e){let t=e.match(sA);return t?t[0]:""}var cA=/^[^&#]+/;function lA(e){let t=e.match(cA);return t?t[0]:""}var Ud=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[x]=new Y(t,n)),r}parseSegment(){let t=Pd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(t),new rr(Ya(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=oA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Pd(this.remaining);i&&(r=i,this.capture(r))}t[Ya(n)]=Ya(r)}parseQueryParam(t){let n=aA(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=lA(this.remaining);s&&(r=s,this.capture(r))}let i=i_(n),o=i_(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Pd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=x);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[x]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new C(4011,!1)}};function v_(e){return e.segments.length>0?new Y([],{[x]:e}):e}function __(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=__(i);if(r===x&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Y(e.segments,t);return uA(n)}function uA(e){if(e.numberOfChildren===1&&e.children[x]){let t=e.children[x];return new Y(e.segments.concat(t.segments),t.children)}return e}function ho(e){return e instanceof qt}function dA(e,t,n=null,r=null){let i=w_(e);return C_(i,t,n,r)}function w_(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Y(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=v_(r);return t??i}function C_(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return kd(i,i,i,n,r);let o=fA(t);if(o.toRoot())return kd(i,i,new Y([],{}),n,r);let s=hA(o,i,e),a=s.processChildren?co(s.segmentGroup,s.index,o.commands):E_(s.segmentGroup,s.index,o.commands);return kd(i,s.segmentGroup,a,n,r)}function Za(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function po(e){return typeof e=="object"&&e!=null&&e.outlets}function kd(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=D_(e,t,n);let a=v_(__(s));return new qt(a,o,i)}function D_(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=D_(o,t,n)}),new Y(e.segments,r)}var Qa=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Za(r[0]))throw new C(4003,!1);let i=r.find(po);if(i&&i!==d_(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Qa(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qa(n,t,r)}var ti=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function hA(e,t,n){if(e.isAbsolute)return new ti(t,!0,0);if(!n)return new ti(t,!1,NaN);if(n.parent===null)return new ti(n,!0,0);let r=Za(e.commands[0])?0:1,i=n.segments.length-1+r;return pA(n,i,e.numberOfDoubleDots)}function pA(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new ti(r,!1,i-o)}function gA(e){return po(e[0])?e[0].outlets:{[x]:e}}function E_(e,t,n){if(e??=new Y([],{}),e.segments.length===0&&e.hasChildren())return co(e,t,n);let r=mA(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Y(e.segments.slice(0,r.pathIndex),{});return o.children[x]=new Y(e.segments.slice(r.pathIndex),e.children),co(o,0,i)}else return r.match&&i.length===0?new Y(e.segments,{}):r.match&&!e.hasChildren()?$d(e,t,n):r.match?co(e,0,i):$d(e,t,n)}function co(e,t,n){if(n.length===0)return new Y(e.segments,{});{let r=gA(n),i={};if(Object.keys(r).some(o=>o!==x)&&e.children[x]&&e.numberOfChildren===1&&e.children[x].segments.length===0){let o=co(e.children[x],t,n);return new Y(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=E_(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(e.segments,i)}}function mA(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(po(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!s_(c,l,s))return o;r+=2}else{if(!s_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $d(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(po(o)){let c=yA(o.outlets);return new Y(r,c)}if(i===0&&Za(n[0])){let c=e.segments[t];r.push(new rr(c.path,o_(n[0]))),i++;continue}let s=po(o)?o.outlets[x]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Za(a)?(r.push(new rr(s,o_(a))),i+=2):(r.push(new rr(s,{})),i++)}return new Y(r,{})}function yA(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=$d(new Y([],{}),0,r))}),t}function o_(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function s_(e,t,n){return e==n.path&&Dt(t,n.parameters)}var lo="imperative",we=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(we||{}),Je=class{constructor(t,n){this.id=t,this.url=n}},go=class extends Je{constructor(t,n,r="imperative",i=null){super(t,n),this.type=we.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends Je{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=we.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},We=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(We||{}),Hd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Hd||{}),Gt=class extends Je{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=we.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sr=class extends Je{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=we.NavigationSkipped}},mo=class extends Je{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=we.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ka=class extends Je{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=we.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class extends Je{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=we.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends Je{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=we.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gd=class extends Je{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qd=class extends Je{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=we.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class{constructor(t){this.route=t,this.type=we.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zd=class{constructor(t){this.route=t,this.type=we.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qd=class{constructor(t){this.snapshot=t,this.type=we.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kd=class{constructor(t){this.snapshot=t,this.type=we.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jd=class{constructor(t){this.snapshot=t,this.type=we.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{constructor(t){this.snapshot=t,this.type=we.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var yo=class{},oi=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function vA(e,t){return e.providers&&!e._injector&&(e._injector=fd(e.providers,t,`Route: ${e.path}`)),e._injector??t}function at(e){return e.outlet||x}function _A(e,t){let n=e.filter(r=>at(r)===t);return n.push(...e.filter(r=>at(r)!==t)),n}function Eo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ef=class{get injector(){return Eo(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new ic(this.rootInjector),this.attachRef=null}},ic=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ef(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)(T(Ae))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ja=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=tf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=tf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=nf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return nf(t,this._root).map(n=>n.value)}};function tf(e,t){if(e===t.value)return t;for(let n of t.children){let r=tf(e,n);if(r)return r}return null}function nf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=nf(e,n);if(r.length)return r.unshift(t),r}return[]}var ze=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ei(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Xa=class extends Ja{constructor(t,n){super(t),this.snapshot=n,hf(this,t)}toString(){return this.snapshot.toString()}};function I_(e){let t=wA(e),n=new _e([new rr("",{})]),r=new _e({}),i=new _e({}),o=new _e({}),s=new _e(""),a=new Mn(n,r,o,s,i,x,e,t.root);return a.snapshot=t.root,new Xa(new ze(a,[]),t)}function wA(e){let t={},n={},r={},i="",o=new ni([],t,r,i,n,x,e,null,{});return new tc("",new ze(o,[]))}var Mn=class{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(M(l=>l[Do]))??b(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(M(t=>ii(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(M(t=>ii(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ec(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:v(v({},t.params),e.params),data:v(v({},t.data),e.data),resolve:v(v(v(v({},e.data),t.data),i?.data),e._resolvedData)}:r={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&S_(i)&&(r.resolve[Do]=i.title),r}var ni=class{get title(){return this.data?.[Do]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ii(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ii(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},tc=class extends Ja{constructor(t,n){super(n),this.url=t,hf(this,n)}toString(){return b_(this._root)}};function hf(e,t){t.value._routerState=e,t.children.forEach(n=>hf(e,n))}function b_(e){let t=e.children.length>0?` { ${e.children.map(b_).join(", ")} } `:"";return`${e.value}${t}`}function Fd(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Dt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Dt(t.params,n.params)||e.paramsSubject.next(n.params),qM(t.url,n.url)||e.urlSubject.next(n.url),Dt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function rf(e,t){let n=Dt(e.params,t.params)&&KM(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||rf(e.parent,t.parent))}function S_(e){return typeof e.title=="string"||e.title===null}var pf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=x,this.activateEvents=new fe,this.deactivateEvents=new fe,this.attachEvents=new fe,this.detachEvents=new fe,this.parentContexts=y(ic),this.location=y(Kr),this.changeDetector=y(tr),this.inputBinder=y(gf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new of(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jn]})}}return e})(),of=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Mn?this.route:t===ic?this.childContexts:this.parent.get(t,n)}},gf=new D("");function CA(e,t,n){let r=vo(e,t._root,n?n._root:void 0);return new Xa(r,t)}function vo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=DA(e,t,n);return new ze(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>vo(e,a)),s}}let r=EA(t.value),i=t.children.map(o=>vo(e,o));return new ze(r,i)}}function DA(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return vo(e,r,i);return vo(e,r)})}function EA(e){return new Mn(new _e(e.url),new _e(e.params),new _e(e.queryParams),new _e(e.fragment),new _e(e.data),e.outlet,e.component,e)}var _o=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},T_="ngNavigationCancelingError";function nc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ho(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=M_(!1,We.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function M_(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[T_]=!0,n.cancellationCode=t,n}function IA(e){return A_(e)&&ho(e.url)}function A_(e){return!!e&&e[T_]}var bA=(e,t,n,r)=>M(i=>(new sf(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),sf=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Fd(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=ei(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ei(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ei(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=ei(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xd(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Kd(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Fd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Fd(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},rc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ri=class{constructor(t,n){this.component=t,this.route=n}};function SA(e,t,n){let r=e._root,i=t?t._root:null;return so(r,i,n,[r.value])}function TA(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ai(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!gm(e)?e:t.get(e):r}function so(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ei(t);return e.children.forEach(s=>{MA(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>uo(a,n.getContext(s),i)),i}function MA(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=AA(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new rc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?so(e,t,a?a.children:null,r,i):so(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ri(a.outlet.component,s))}else s&&uo(t,a,i),i.canActivateChecks.push(new rc(r)),o.component?so(e,null,a?a.children:null,r,i):so(e,null,n,r,i);return i}function AA(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!ir(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ir(e.url,t.url)||!Dt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rf(e,t)||!Dt(e.queryParams,t.queryParams);case"paramsChange":default:return!rf(e,t)}}function uo(e,t,n){let r=ei(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?uo(s,t.children.getContext(o),n):uo(s,null,n):uo(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ri(t.outlet.component,i)):n.canDeactivateChecks.push(new ri(null,i)):n.canDeactivateChecks.push(new ri(null,i))}function Io(e){return typeof e=="function"}function NA(e){return typeof e=="boolean"}function xA(e){return e&&Io(e.canLoad)}function RA(e){return e&&Io(e.canActivate)}function OA(e){return e&&Io(e.canActivateChild)}function PA(e){return e&&Io(e.canDeactivate)}function kA(e){return e&&Io(e.canMatch)}function N_(e){return e instanceof Nt||e?.name==="EmptyError"}var Wa=Symbol("INITIAL_VALUE");function si(){return Ue(e=>xs(e.map(t=>t.pipe(xt(1),Nl(Wa)))).pipe(M(t=>{for(let n of t)if(n!==!0){if(n===Wa)return Wa;if(n===!1||FA(n))return n}return!0}),Be(t=>t!==Wa),xt(1)))}function FA(e){return ho(e)||e instanceof _o}function LA(e,t){return de(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?b(B(v({},n),{guardsResult:!0})):VA(s,r,i,e).pipe(de(a=>a&&NA(a)?jA(r,o,e,t):b(a)),M(a=>B(v({},n),{guardsResult:a})))})}function VA(e,t,n,r){return re(e).pipe(de(i=>zA(i.component,i.route,n,t,r)),ht(i=>i!==!0,!0))}function jA(e,t,n,r){return re(t).pipe(nn(i=>Mr(UA(i.route.parent,r),BA(i.route,r),HA(e,i.path,n),$A(e,i.route,n))),ht(i=>i!==!0,!0))}function BA(e,t){return e!==null&&t&&t(new Jd(e)),b(!0)}function UA(e,t){return e!==null&&t&&t(new Qd(e)),b(!0)}function $A(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return b(!0);let i=r.map(o=>Rs(()=>{let s=Eo(t)??n,a=ai(o,s),c=RA(a)?a.canActivate(t,e):it(s,()=>a(t,e));return An(c).pipe(ht())}));return b(i).pipe(si())}function HA(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>TA(s)).filter(s=>s!==null).map(s=>Rs(()=>{let a=s.guards.map(c=>{let l=Eo(s.node)??n,u=ai(c,l),d=OA(u)?u.canActivateChild(r,e):it(l,()=>u(r,e));return An(d).pipe(ht())});return b(a).pipe(si())}));return b(o).pipe(si())}function zA(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return b(!0);let s=o.map(a=>{let c=Eo(t)??i,l=ai(a,c),u=PA(l)?l.canDeactivate(e,t,n,r):it(c,()=>l(e,t,n,r));return An(u).pipe(ht())});return b(s).pipe(si())}function WA(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return b(!0);let o=i.map(s=>{let a=ai(s,e),c=xA(a)?a.canLoad(t,n):it(e,()=>a(t,n));return An(c)});return b(o).pipe(si(),x_(r))}function x_(e){return wl(ye(t=>{if(typeof t!="boolean")throw nc(e,t)}),M(t=>t===!0))}function GA(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return b(!0);let o=i.map(s=>{let a=ai(s,e),c=kA(a)?a.canMatch(t,n):it(e,()=>a(t,n));return An(c)});return b(o).pipe(si(),x_(r))}var wo=class{constructor(t){this.segmentGroup=t||null}},Co=class extends Error{constructor(t){super(),this.urlTree=t}};function Xr(e){return Tr(new wo(e))}function qA(e){return Tr(new C(4e3,!1))}function YA(e){return Tr(M_(!1,We.GuardRejected))}var af=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return b(r);if(i.numberOfChildren>1||!i.children[x])return qA(`${t.redirectTo}`);i=i.children[x]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:p,title:g}=i,_=it(o,()=>a({params:h,data:p,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:g}));if(_ instanceof qt)throw new Co(_);n=_}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Co(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new qt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Y(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},cf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZA(e,t,n,r,i){let o=R_(e,t,n);return o.matched?(r=vA(t,r),GA(r,t,n,i).pipe(M(s=>s===!0?o:v({},cf)))):b(o)}function R_(e,t,n){if(t.path==="**")return QA(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?v({},cf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||GM)(n,e,t);if(!i)return v({},cf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function QA(e){return{matched:!0,parameters:e.length>0?d_(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function a_(e,t,n,r){return n.length>0&&XA(e,n,r)?{segmentGroup:new Y(t,JA(r,new Y(n,e.children))),slicedSegments:[]}:n.length===0&&eN(e,n,r)?{segmentGroup:new Y(e.segments,KA(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Y(e.segments,e.children),slicedSegments:n}}function KA(e,t,n,r){let i={};for(let o of n)if(oc(e,t,o)&&!r[at(o)]){let s=new Y([],{});i[at(o)]=s}return v(v({},r),i)}function JA(e,t){let n={};n[x]=t;for(let r of e)if(r.path===""&&at(r)!==x){let i=new Y([],{});n[at(r)]=i}return n}function XA(e,t,n){return n.some(r=>oc(e,t,r)&&at(r)!==x)}function eN(e,t,n){return n.some(r=>oc(e,t,r))}function oc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function tN(e,t,n){return t.length===0&&!e.children[n]}var lf=class{};function nN(e,t,n,r,i,o,s="emptyOnly"){return new uf(e,t,n,r,i,s,o).recognize()}var rN=31,uf=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new af(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new C(4002,`'${t.segmentGroup}'`)}recognize(){let t=a_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(M(({children:n,rootSnapshot:r})=>{let i=new ze(r,n),o=new tc("",i),s=dA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new ni([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),x,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,x,n).pipe(M(r=>({children:r,rootSnapshot:n})),tn(r=>{if(r instanceof Co)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wo?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(M(s=>s instanceof ze?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return re(o).pipe(nn(s=>{let a=r.children[s],c=_A(n,s);return this.processSegmentGroup(t,c,a,s,i)}),Al((s,a)=>(s.push(...a),s)),rn(null),Ml(),de(s=>{if(s===null)return Xr(r);let a=O_(s);return iN(a),b(a)}))}processSegment(t,n,r,i,o,s,a){return re(n).pipe(nn(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,s,a).pipe(tn(l=>{if(l instanceof wo)return b(null);throw l}))),ht(c=>!!c),tn(c=>{if(N_(c))return tN(r,i,o)?b(new lf):Xr(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,c){return at(r)!==s&&(s===x||!oc(i,o,r))?Xr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,c):Xr(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=R_(n,i,o);if(!c)return Xr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>rN&&(this.allowRedirects=!1));let h=new ni(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,c_(i),at(i),i.component??i._loadedComponent??null,i,l_(i)),p=ec(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(de(_=>this.processSegment(t,r,n,_.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=ZA(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ue(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Ue(({routes:l})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new ni(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,c_(r),at(r),r.component??r._loadedComponent??null,r,l_(r)),g=ec(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:_,slicedSegments:E}=a_(n,f,h,l);if(E.length===0&&_.hasChildren())return this.processChildren(u,l,_,p).pipe(M(j=>new ze(p,j)));if(l.length===0&&E.length===0)return b(new ze(p,[]));let J=at(r)===o;return this.processSegment(u,l,_,E,J?x:o,!0,p).pipe(M(j=>new ze(p,j instanceof ze?[j]:[])))}))):Xr(n)))}getChildConfig(t,n,r){return n.children?b({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?b({routes:n._loadedRoutes,injector:n._loadedInjector}):WA(t,n,r,this.urlSerializer).pipe(de(i=>i?this.configLoader.loadChildren(t,n).pipe(ye(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):YA(n))):b({routes:[],injector:t})}};function iN(e){e.sort((t,n)=>t.value.outlet===x?-1:n.value.outlet===x?1:t.value.outlet.localeCompare(n.value.outlet))}function oN(e){let t=e.value.routeConfig;return t&&t.path===""}function O_(e){let t=[],n=new Set;for(let r of e){if(!oN(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=O_(r.children);t.push(new ze(r.value,i))}return t.filter(r=>!n.has(r))}function c_(e){return e.data||{}}function l_(e){return e.resolve||{}}function sN(e,t,n,r,i,o){return de(s=>nN(e,t,n,r,s.extractedUrl,i,o).pipe(M(({state:a,tree:c})=>B(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function aN(e,t){return de(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return b(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of P_(c))s.add(l);let a=0;return re(s).pipe(nn(c=>o.has(c)?cN(c,r,e,t):(c.data=ec(c,c.parent,e).resolve,b(void 0))),ye(()=>a++),Ar(1),de(c=>a===s.size?b(n):je))})}function P_(e){let t=e.children.map(n=>P_(n)).flat();return[e,...t]}function cN(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!S_(i)&&(o[Do]=i.title),lN(o,e,t,r).pipe(M(s=>(e._resolvedData=s,e.data=ec(e,e.parent,n).resolve,null)))}function lN(e,t,n,r){let i=jd(e);if(i.length===0)return b({});let o={};return re(i).pipe(de(s=>uN(e[s],t,n,r).pipe(ht(),ye(a=>{if(a instanceof _o)throw nc(new fo,a);o[s]=a}))),Ar(1),Tl(o),tn(s=>N_(s)?je:Tr(s)))}function uN(e,t,n,r){let i=Eo(t)??r,o=ai(e,i),s=o.resolve?o.resolve(t,n):it(i,()=>o(t,n));return An(s)}function Ld(e){return Ue(t=>{let n=e(t);return n?re(n).pipe(M(()=>t)):b(t)})}var k_=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===x);return r}getResolvedTitleForRoute(n){return n.data[Do]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>y(dN),providedIn:"root"})}}return e})(),dN=(()=>{class e extends k_{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(T(n_))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mf=new D("",{providedIn:"root",factory:()=>({})}),fN=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Dn],decls:1,vars:0,template:function(r,i){r&1&&Zi(0,"router-outlet")},dependencies:[pf],encapsulation:2})}}return e})();function yf(e){let t=e.children&&e.children.map(yf),n=t?B(v({},e),{children:t}):v({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==x&&(n.component=fN),n}var vf=new D(""),hN=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(pd)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return b(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=An(n.loadComponent()).pipe(M(F_),ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Bn(()=>{this.componentLoaders.delete(n)})),i=new Sr(r,()=>new ve).pipe(br());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return b({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=pN(r,this.compiler,n,this.onLoadEndListener).pipe(Bn(()=>{this.childrenLoaders.delete(r)})),s=new Sr(o,()=>new ve).pipe(br());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function pN(e,t,n,r){return An(e.loadChildren()).pipe(M(F_),de(i=>i instanceof $i||Array.isArray(i)?b(i):re(t.compileModuleAsync(i))),M(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(vf,[],{optional:!0,self:!0}).flat()),{routes:s.map(yf),injector:o}}))}function gN(e){return e&&typeof e=="object"&&"default"in e}function F_(e){return gN(e)?e.default:e}var _f=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>y(mN),providedIn:"root"})}}return e})(),mN=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yN=new D("");var vN=new D(""),_N=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=y(hN),this.environmentInjector=y(Ae),this.urlSerializer=y(ff),this.rootContexts=y(ic),this.location=y(Ki),this.inputBindingEnabled=y(gf,{optional:!0})!==null,this.titleStrategy=y(k_),this.options=y(mf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(_f),this.createViewTransition=y(yN,{optional:!0}),this.navigationErrorHandler=y(vN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>b(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Yd(i)),r=i=>this.events.next(new Zd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(B(v(v({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new _e({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:lo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Be(o=>o.id!==0),M(o=>B(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ue(o=>{let s=!1,a=!1;return b(o).pipe(Ue(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",We.SupersededByNewNavigation),je;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?B(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new sr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Hd.IgnoredSameUrlNavigation)),c.resolve(!1),je}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return b(c).pipe(Ue(d=>{let f=this.transitions?.getValue();return this.events.next(new go(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?je:Promise.resolve(d)}),sN(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ye(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=B(v({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Ka(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:g}=c,_=new go(d,this.urlSerializer.serialize(f),h,p);this.events.next(_);let E=I_(this.rootComponentType).snapshot;return this.currentTransition=o=B(v({},c),{targetSnapshot:E,urlAfterRedirects:f,extras:B(v({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,b(o)}else{let d="";return this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Hd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),je}}),ye(c=>{let l=new zd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),M(c=>(this.currentTransition=o=B(v({},c),{guards:SA(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),LA(this.environmentInjector,c=>this.events.next(c)),ye(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw nc(this.urlSerializer,c.guardsResult);let l=new Wd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Be(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",We.GuardRejected),!1)),Ld(c=>{if(c.guards.canActivateChecks.length)return b(c).pipe(ye(l=>{let u=new Gd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ue(l=>{let u=!1;return b(l).pipe(aN(this.paramsInheritanceStrategy,this.environmentInjector),ye({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",We.NoDataFromResolver)}}))}),ye(l=>{let u=new qd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Ld(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ye(f=>{u.component=f}),M(()=>{})));for(let f of u.children)d.push(...l(f));return d};return xs(l(c.targetSnapshot.root)).pipe(rn(null),xt(1))}),Ld(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?re(u).pipe(M(()=>o)):b(o)}),M(c=>{let l=CA(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=B(v({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ye(()=>{this.events.next(new yo)}),bA(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),xt(1),ye({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),xl(this.transitionAbortSubject.pipe(ye(c=>{throw c}))),Bn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",We.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tn(c=>{if(a=!0,A_(c))this.events.next(new Gt(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),IA(c)?this.events.next(new oi(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new mo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=it(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof _o){let{message:d,cancellationCode:f}=nc(this.urlSerializer,u);this.events.next(new Gt(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new oi(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let d=n.errorHandler(c);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return je}))}))}cancelNavigationTransition(n,r,i){let o=new Gt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wN(e){return e!==lo}var CN=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>y(DN),providedIn:"root"})}}return e})(),df=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},DN=(()=>{class e extends df{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vt(e)))(i||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),L_=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:()=>y(EN),providedIn:"root"})}}return e})(),EN=(()=>{class e extends L_{constructor(){super(...arguments),this.location=y(Ki),this.urlSerializer=y(ff),this.options=y(mf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(_f),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=I_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof go)this.stateMemento=this.createStateMemento();else if(n instanceof sr)this.rawUrlTree=r.initialUrl;else if(n instanceof Ka){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof yo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Gt&&(n.code===We.GuardRejected||n.code===We.NoDataFromResolver)?this.restoreHistory(r):n instanceof mo?this.restoreHistory(r,!0):n instanceof or&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof qt?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vt(e)))(i||e)}})()}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ao=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ao||{});function IN(e,t){e.events.pipe(Be(n=>n instanceof or||n instanceof Gt||n instanceof mo||n instanceof sr),M(n=>n instanceof or||n instanceof sr?ao.COMPLETE:(n instanceof Gt?n.code===We.Redirect||n.code===We.SupersededByNewNavigation:!1)?ao.REDIRECTING:ao.FAILED),Be(n=>n!==ao.REDIRECTING),xt(1)).subscribe(()=>{t()})}function bN(e){throw e}var SN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sc=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=y(Aa),this.stateManager=y(L_),this.options=y(mf,{optional:!0})||{},this.pendingTasks=y(mn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y(_N),this.urlSerializer=y(ff),this.location=y(Ki),this.urlHandlingStrategy=y(_f),this._events=new ve,this.errorHandler=this.options.errorHandler||bN,this.navigated=!1,this.routeReuseStrategy=y(CN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(vf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(gf,{optional:!0}),this.eventsSubscription=new se,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Gt&&r.code!==We.Redirect&&r.code!==We.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof or)this.navigated=!0;else if(r instanceof oi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wN(i.source)},s);this.scheduleNavigation(a,lo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(yf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=w_(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return C_(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ho(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,lo,null,r)}navigate(n,r={skipLocationChange:!1}){return MN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},SN):r===!1?i=v({},TN):i=r,ho(n))return r_(this.currentUrlTree,n,i);let o=this.parseUrl(n);return r_(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return IN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function MN(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new C(4008,!1)}function AN(e){return!(e instanceof yo)&&!(e instanceof oi)}var NN=new D("");function V_(e,...t){return Gi([{provide:vf,multi:!0,useValue:e},[],{provide:Mn,useFactory:xN,deps:[sc]},{provide:Na,multi:!0,useFactory:RN},t.map(n=>n.\u0275providers)])}function xN(e){return e.routerState.root}function RN(){let e=y(dn);return t=>{let n=e.get(En);if(t!==n.components[0])return;let r=e.get(sc),i=e.get(ON);e.get(PN)===1&&r.initialNavigation(),e.get(kN,null,P.Optional)?.setUpPreloading(),e.get(NN,null,P.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ON=new D("",{factory:()=>new ve}),PN=new D("",{providedIn:"root",factory:()=>1});var kN=new D("");function FN(e,t){if(e&1){let n=Qi();N(0,"li",1),He("click",function(){let i=Yr(n).$implicit,o=st();return Zr(o.viewReservations(i.id))}),N(1,"h3"),Q(2),O()()}if(e&2){let n=t.$implicit;ne(2),_n(n.name)}}var ac=class e{constructor(t){this.router=t}hotels=[{id:"A",name:"Hotel A"},{id:"B",name:"Hotel B"},{id:"C",name:"Hotel C"}];viewReservations(t){this.router.navigate(["/reservations",t])}static \u0275fac=function(n){return new(n||e)(H(sc))};static \u0275cmp=pn({type:e,selectors:[["app-hotel-list"]],standalone:!0,features:[Dn],decls:4,vars:1,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,r){n&1&&(N(0,"h2"),Q(1,"Available Hotels"),O(),N(2,"ul"),vn(3,FN,3,1,"li",0),O()),n&2&&(ne(3),Ct("ngForOf",r.hotels))},dependencies:[Fa],styles:["li[_ngcontent-%COMP%]{cursor:pointer}"]})};var K_=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(H(jt),H(_t))}}static{this.\u0275dir=pe({type:e})}}return e})(),fc=(()=>{class e extends K_{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,features:[wt]})}}return e})(),No=new D("");var LN={provide:No,useExisting:kt(()=>hc),multi:!0};function VN(){let e=zt()?zt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var jN=new D(""),hc=(()=>{class e extends K_{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!VN())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(H(jt),H(_t),H(jN,8))}}static{this.\u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&He("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[$t([LN]),wt]})}}return e})();function U_(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var J_=new D(""),BN=new D("");function UN(e){return t=>{if(U_(t.value)||U_(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function $_(e){return null}function X_(e){return e!=null}function ew(e){return er(e)?re(e):e}function tw(e){let t={};return e.forEach(n=>{t=n!=null?v(v({},t),n):t}),Object.keys(t).length===0?null:t}function nw(e,t){return t.map(n=>n(e))}function $N(e){return!e.validate}function rw(e){return e.map(t=>$N(t)?t:n=>t.validate(n))}function HN(e){if(!e)return null;let t=e.filter(X_);return t.length==0?null:function(n){return tw(nw(n,t))}}function iw(e){return e!=null?HN(rw(e)):null}function zN(e){if(!e)return null;let t=e.filter(X_);return t.length==0?null:function(n){let r=nw(n,t).map(ew);return Sl(r).pipe(M(tw))}}function ow(e){return e!=null?zN(rw(e)):null}function H_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function WN(e){return e._rawValidators}function GN(e){return e._rawAsyncValidators}function wf(e){return e?Array.isArray(e)?e:[e]:[]}function lc(e,t){return Array.isArray(e)?e.includes(t):e===t}function z_(e,t){let n=wf(t);return wf(e).forEach(i=>{lc(n,i)||n.push(i)}),n}function W_(e,t){return wf(t).filter(n=>!lc(e,n))}var uc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=iw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ow(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Cf=class extends uc{get formDirective(){return null}get path(){return null}},Ao=class extends uc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Df=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},k$=B(v({},qN),{"[class.ng-submitted]":"isSubmitted"}),sw=(()=>{class e extends Df{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(H(Ao,2))}}static{this.\u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&hd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[wt]})}}return e})();var bo="VALID",cc="INVALID",ci="PENDING",So="DISABLED",ui=class{},dc=class extends ui{constructor(t,n){super(),this.value=t,this.source=n}},To=class extends ui{constructor(t,n){super(),this.pristine=t,this.source=n}},Mo=class extends ui{constructor(t,n){super(),this.touched=t,this.source=n}},li=class extends ui{constructor(t,n){super(),this.status=t,this.source=n}};function YN(e){return(pc(e)?e.validators:e)||null}function ZN(e){return Array.isArray(e)?iw(e):e||null}function QN(e,t){return(pc(t)?t.asyncValidators:e)||null}function KN(e){return Array.isArray(e)?ow(e):e||null}function pc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Ef=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ra(()=>this.statusReactive()),this.statusReactive=Ta(void 0),this._pristine=Ra(()=>this.pristineReactive()),this.pristineReactive=Ta(!0),this._touched=Ra(()=>this.touchedReactive()),this.touchedReactive=Ta(!1),this._events=new ve,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return In(this.statusReactive)}set status(t){In(()=>this.statusReactive.set(t))}get valid(){return this.status===bo}get invalid(){return this.status===cc}get pending(){return this.status==ci}get disabled(){return this.status===So}get enabled(){return this.status!==So}get pristine(){return In(this.pristineReactive)}set pristine(t){In(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return In(this.touchedReactive)}set touched(t){In(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(z_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(z_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(W_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(W_(t,this._rawAsyncValidators))}hasValidator(t){return lc(this._rawValidators,t)}hasAsyncValidator(t){return lc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(B(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Mo(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Mo(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(B(v({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new To(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new To(!0,r))}markAsPending(t={}){this.status=ci;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new li(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(B(v({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=So,this.errors=null,this._forEachChild(i=>{i.disable(B(v({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dc(this.value,r)),this._events.next(new li(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=bo,this._forEachChild(r=>{r.enable(B(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(B(v({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bo||this.status===ci)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new dc(this.value,n)),this._events.next(new li(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(B(v({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?So:bo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ci,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ew(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new li(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?So:this.errors?cc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ci)?ci:this._anyControlsHaveStatus(cc)?cc:bo}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new To(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Mo(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){pc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ZN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=KN(this._rawAsyncValidators)}};var aw=new D("CallSetDisabledState",{providedIn:"root",factory:()=>If}),If="always";function JN(e,t){return[...t.path,e]}function XN(e,t,n=If){tx(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),nx(e,t),ix(e,t),rx(e,t),ex(e,t)}function G_(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function ex(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function tx(e,t){let n=WN(e);t.validator!==null?e.setValidators(H_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=GN(e);t.asyncValidator!==null?e.setAsyncValidators(H_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();G_(t._rawValidators,i),G_(t._rawAsyncValidators,i)}function nx(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&cw(e,t)})}function rx(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&cw(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function cw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ix(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function ox(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function sx(e){return Object.getPrototypeOf(e.constructor)===fc}function ax(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===hc?n=o:sx(o)?r=o:i=o}),i||r||n||null}function q_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Y_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var cx=class extends Ef{constructor(t=null,n,r){super(YN(n),QN(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),pc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Y_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){q_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){q_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Y_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var lx={provide:Ao,useExisting:kt(()=>bf)},Z_=Promise.resolve(),bf=(()=>{class e extends Ao{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new cx,this._registered=!1,this.name="",this.update=new fe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ax(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ox(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){XN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Z_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&xa(r);Z_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?JN(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(H(Cf,9),H(J_,10),H(BN,10),H(No,10),H(tr,8),H(aw,8))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([lx]),wt,Jn]})}}return e})();var ux={provide:No,useExisting:kt(()=>Sf),multi:!0},Sf=(()=>{class e extends fc{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&He("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[$t([ux]),wt]})}}return e})();var dx={provide:No,useExisting:kt(()=>gc),multi:!0};function lw(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function fx(e){return e.split(":")[0]}var gc=(()=>{class e extends fc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=lw(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=fx(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&He("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([dx]),wt]})}}return e})(),uw=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(lw(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(H(_t),H(jt),H(gc,9))}}static{this.\u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),hx={provide:No,useExisting:kt(()=>dw),multi:!0};function Q_(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function px(e){return e.split(":")[0]}var dw=(()=>{class e extends fc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=px(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&He("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([hx]),wt]})}}return e})(),fw=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Q_(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Q_(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(H(_t),H(jt),H(dw,9))}}static{this.\u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function gx(e){return typeof e=="number"?e:parseFloat(e)}var mx=(()=>{class e{constructor(){this._validator=$_}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=pe({type:e,features:[Jn]})}}return e})();var yx={provide:J_,useExisting:kt(()=>Tf),multi:!0},Tf=(()=>{class e extends mx{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>gx(n),this.createValidator=n=>UN(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Vt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ma("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[$t([yx]),wt]})}}return e})();var vx=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kn({type:e})}static{this.\u0275inj=Qn({})}}return e})();var hw=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:aw,useValue:n.callSetDisabledState??If}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kn({type:e})}static{this.\u0275inj=Qn({imports:[vx]})}}return e})();var di=class e{constructor(t){this.http=t}fetchRooms(t){return this.http.get(t+".json").pipe(M(n=>n))}static \u0275fac=function(n){return new(n||e)(T(Sd))};static \u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})};var Mf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(e,t){if(!e)throw ar(t)},ar=function(e){return new Error("Firebase Database ("+Mf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var gw=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Cx=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},yc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Cx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Af;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Af=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xf=function(e){let t=gw(e);return yc.encodeByteArray(t,!0)},xo=function(e){return xf(e).replace(/\./g,"")},Nf=function(e){try{return yc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mw(e){return yw(void 0,e)}function yw(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!Dx(n)||(e[n]=yw(e[n],t[n]));return e}function Dx(e){return e!=="__proto__"}function Ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ix=()=>Ex().__FIREBASE_DEFAULTS__,bx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Sx=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Nf(e[1]);return t&&JSON.parse(t)},vw=()=>{try{return Ix()||bx()||Sx()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Tx=e=>{var t,n;return(n=(t=vw())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},_w=e=>{let t=Tx(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rf=()=>{var e;return(e=vw())===null||e===void 0?void 0:e.config};var Nn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function ww(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xo(JSON.stringify(n)),xo(JSON.stringify(s)),""].join(".")}function Mx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Of(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mx())}function Cw(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Dw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Et(){return Mf.NODE_CLIENT===!0||Mf.NODE_ADMIN===!0}function vc(){try{return typeof indexedDB=="object"}catch{return!1}}function _c(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}function Ew(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Ax="FirebaseError",ct=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Ax,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}},Yt=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?Nx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ct(i,a,r)}};function Nx(e,t){return e.replace(xx,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var xx=/\{\$([^}]+)}/g;function fi(e){return JSON.parse(e)}function ge(e){return JSON.stringify(e)}var Iw=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=fi(Nf(o[0])||""),n=fi(Nf(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var bw=function(e){let t=Iw(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Sw=function(e){let t=Iw(e).claims;return typeof t=="object"&&t.admin===!0};function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Pf(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ro(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function hi(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(pw(o)&&pw(s)){if(!hi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function pw(e){return e!==null&&typeof e=="object"}function Tw(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}var mc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function wc(e,t){return`${e} failed: ${t} argument `}var Mw=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,m(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Oo=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var Rx=1e3,Ox=2,Px=4*60*60*1e3,kx=.5;function kf(e,t=Rx,n=Ox){let r=t*Math.pow(n,e),i=Math.round(kx*r*(Math.random()-.5)*2);return Math.min(Px,r+i)}function bt(e){return e&&e._delegate?e._delegate:e}var Se=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var lr="[DEFAULT]";var Cc=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new Nn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Lx(t))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return I(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=lr){return this.instances.has(t)}getOptions(t=lr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fx(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=lr){return this.component?this.component.multipleInstances?t:lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Fx(e){return e===lr?void 0:e}function Lx(e){return e.instantiationMode==="EAGER"}var Po=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Cc(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var Vx=[],ee=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ee||{}),jx={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Bx=ee.INFO,Ux={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},$x=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=Ux[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},xn=class{constructor(t){this.name=t,this._logLevel=Bx,this._logHandler=$x,this._userLogHandler=null,Vx.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ee))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...t),this._logHandler(this,ee.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...t),this._logHandler(this,ee.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...t),this._logHandler(this,ee.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...t),this._logHandler(this,ee.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...t),this._logHandler(this,ee.ERROR,...t)}};var Hx=(e,t)=>t.some(n=>e instanceof n),Aw,Nw;function zx(){return Aw||(Aw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wx(){return Nw||(Nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xw=new WeakMap,Lf=new WeakMap,Rw=new WeakMap,Ff=new WeakMap,jf=new WeakMap;function Gx(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(St(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&xw.set(n,e)}).catch(()=>{}),jf.set(t,e),t}function qx(e){if(Lf.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Lf.set(e,t)}var Vf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Lf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Rw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return St(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ow(e){Vf=e(Vf)}function Yx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Dc(this),t,...n);return Rw.set(r,t.sort?t.sort():[t]),St(r)}:Wx().includes(e)?function(...t){return e.apply(Dc(this),t),St(xw.get(this))}:function(...t){return St(e.apply(Dc(this),t))}}function Zx(e){return typeof e=="function"?Yx(e):(e instanceof IDBTransaction&&qx(e),Hx(e,zx())?new Proxy(e,Vf):e)}function St(e){if(e instanceof IDBRequest)return Gx(e);if(Ff.has(e))return Ff.get(e);let t=Zx(e);return t!==e&&(Ff.set(e,t),jf.set(t,e)),t}var Dc=e=>jf.get(e);function Ec(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=St(s);return r&&s.addEventListener("upgradeneeded",c=>{r(St(s.result),c.oldVersion,c.newVersion,St(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Qx=["get","getKey","getAll","getAllKeys","count"],Kx=["put","add","delete","clear"],Bf=new Map;function Pw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bf.get(t))return Bf.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=Kx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Qx.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Bf.set(t,o),o}Ow(e=>B(v({},e),{get:(t,n,r)=>Pw(t,n)||e.get(t,n,r),has:(t,n)=>!!Pw(t,n)||e.has(t,n)}));var $f=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Jx(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Jx(e){let t=e.getComponent();return t?.type==="VERSION"}var Hf="@firebase/app",kw="0.10.15";var Zt=new xn("@firebase/app"),Xx="@firebase/app-compat",eR="@firebase/analytics-compat",tR="@firebase/analytics",nR="@firebase/app-check-compat",rR="@firebase/app-check",iR="@firebase/auth",oR="@firebase/auth-compat",sR="@firebase/database",aR="@firebase/data-connect",cR="@firebase/database-compat",lR="@firebase/functions",uR="@firebase/functions-compat",dR="@firebase/installations",fR="@firebase/installations-compat",hR="@firebase/messaging",pR="@firebase/messaging-compat",gR="@firebase/performance",mR="@firebase/performance-compat",yR="@firebase/remote-config",vR="@firebase/remote-config-compat",_R="@firebase/storage",wR="@firebase/storage-compat",CR="@firebase/firestore",DR="@firebase/vertexai",ER="@firebase/firestore-compat",IR="firebase",bR="11.0.1";var zf="[DEFAULT]",SR={[Hf]:"fire-core",[Xx]:"fire-core-compat",[tR]:"fire-analytics",[eR]:"fire-analytics-compat",[rR]:"fire-app-check",[nR]:"fire-app-check-compat",[iR]:"fire-auth",[oR]:"fire-auth-compat",[sR]:"fire-rtdb",[aR]:"fire-data-connect",[cR]:"fire-rtdb-compat",[lR]:"fire-fn",[uR]:"fire-fn-compat",[dR]:"fire-iid",[fR]:"fire-iid-compat",[hR]:"fire-fcm",[pR]:"fire-fcm-compat",[gR]:"fire-perf",[mR]:"fire-perf-compat",[yR]:"fire-rc",[vR]:"fire-rc-compat",[_R]:"fire-gcs",[wR]:"fire-gcs-compat",[CR]:"fire-fst",[ER]:"fire-fst-compat",[DR]:"fire-vertex","fire-js":"fire-js",[IR]:"fire-js-all"};var Ic=new Map,TR=new Map,Wf=new Map;function Fw(e,t){try{e.container.addComponent(t)}catch(n){Zt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function lt(e){let t=e.name;if(Wf.has(t))return Zt.debug(`There were multiple attempts to register component ${t}.`),!1;Wf.set(t,e);for(let n of Ic.values())Fw(n,e);for(let n of TR.values())Fw(n,e);return!0}function On(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new Yt("app","Firebase",MR);var Gf=class{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Se("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}};var Bw=bR;function Zf(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=Object.assign({name:zf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Rn.create("bad-app-name",{appName:String(i)});if(n||(n=Rf()),!n)throw Rn.create("no-options");let o=Ic.get(i);if(o){if(hi(n,o.options)&&hi(r,o.config))return o;throw Rn.create("duplicate-app",{appName:i})}let s=new Po(i);for(let c of Wf.values())s.addComponent(c);let a=new Gf(n,r,s);return Ic.set(i,a),a}function Fo(e=zf){let t=Ic.get(e);if(!t&&e===zf&&Rf())return Zf();if(!t)throw Rn.create("no-app",{appName:e});return t}function Re(e,t,n){var r;let i=(r=SR[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zt.warn(a.join(" "));return}lt(new Se(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var AR="firebase-heartbeat-database",NR=1,ko="firebase-heartbeat-store",Uf=null;function Uw(){return Uf||(Uf=Ec(AR,NR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ko)}catch(n){console.warn(n)}}}}).catch(e=>{throw Rn.create("idb-open",{originalErrorMessage:e.message})})),Uf}function xR(e){return I(this,null,function*(){try{let n=(yield Uw()).transaction(ko),r=yield n.objectStore(ko).get($w(e));return yield n.done,r}catch(t){if(t instanceof ct)Zt.warn(t.message);else{let n=Rn.create("idb-get",{originalErrorMessage:t?.message});Zt.warn(n.message)}}})}function Lw(e,t){return I(this,null,function*(){try{let r=(yield Uw()).transaction(ko,"readwrite");yield r.objectStore(ko).put(t,$w(e)),yield r.done}catch(n){if(n instanceof ct)Zt.warn(n.message);else{let r=Rn.create("idb-set",{originalErrorMessage:n?.message});Zt.warn(r.message)}}})}function $w(e){return`${e.name}!${e.options.appId}`}var RR=1024,OR=30*24*60*60*1e3,qf=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Yf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var t,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Vw();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=OR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zt.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Vw(),{heartbeatsToSend:r,unsentEntries:i}=PR(this._heartbeatsCache.heartbeats),o=xo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zt.warn(n),""}})}};function Vw(){return new Date().toISOString().substring(0,10)}function PR(e,t=RR){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jw(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Yf=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return vc()?_c().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield xR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Lw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function jw(e){return xo(JSON.stringify({version:2,heartbeats:e})).length}function kR(e){lt(new Se("platform-logger",t=>new $f(t),"PRIVATE")),lt(new Se("heartbeat",t=>new qf(t),"PRIVATE")),Re(Hf,kw,e),Re(Hf,kw,"esm2017"),Re("fire-js","")}kR("");var FR="firebase",LR="11.0.1";Re(FR,LR,"app");var Ww="@firebase/installations",Xf="0.6.10";var Gw=1e4,qw=`w:${Xf}`,Yw="FIS_v2",VR="https://firebaseinstallations.googleapis.com/v1",jR=60*60*1e3,BR="installations",UR="Installations";var $R={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dr=new Yt(BR,UR,$R);function Zw(e){return e instanceof ct&&e.code.includes("request-failed")}function Qw({projectId:e}){return`${VR}/projects/${e}/installations`}function Kw(e){return{token:e.token,requestStatus:2,expiresIn:zR(e.expiresIn),creationTime:Date.now()}}function Jw(e,t){return I(this,null,function*(){let r=(yield t.json()).error;return dr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Xw({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function HR(e,{refreshToken:t}){let n=Xw(e);return n.append("Authorization",WR(t)),n}function eC(e){return I(this,null,function*(){let t=yield e();return t.status>=500&&t.status<600?e():t})}function zR(e){return Number(e.replace("s","000"))}function WR(e){return`${Yw} ${e}`}function GR(r,i){return I(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let o=Qw(e),s=Xw(e),a=t.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:n,authVersion:Yw,appId:e.appId,sdkVersion:qw},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield eC(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:Kw(d.authToken)}}else throw yield Jw("Create Installation",u)})}function tC(e){return new Promise(t=>{setTimeout(t,e)})}function qR(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var YR=/^[cdef][\w-]{21}$/,Jf="";function ZR(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let n=QR(e);return YR.test(n)?n:Jf}catch{return Jf}}function QR(e){return qR(e).substr(0,22)}function Sc(e){return`${e.appName}!${e.appId}`}var nC=new Map;function rC(e,t){let n=Sc(e);iC(n,t),KR(n,t)}function iC(e,t){let n=nC.get(e);if(n)for(let r of n)r(t)}function KR(e,t){let n=JR();n&&n.postMessage({key:e,fid:t}),XR()}var ur=null;function JR(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=e=>{iC(e.data.key,e.data.fid)}),ur}function XR(){nC.size===0&&ur&&(ur.close(),ur=null)}var eO="firebase-installations-database",tO=1,fr="firebase-installations-store",Qf=null;function eh(){return Qf||(Qf=Ec(eO,tO,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(fr)}}})),Qf}function bc(e,t){return I(this,null,function*(){let n=Sc(e),i=(yield eh()).transaction(fr,"readwrite"),o=i.objectStore(fr),s=yield o.get(n);return yield o.put(t,n),yield i.done,(!s||s.fid!==t.fid)&&rC(e,t.fid),t})}function oC(e){return I(this,null,function*(){let t=Sc(e),r=(yield eh()).transaction(fr,"readwrite");yield r.objectStore(fr).delete(t),yield r.done})}function Tc(e,t){return I(this,null,function*(){let n=Sc(e),i=(yield eh()).transaction(fr,"readwrite"),o=i.objectStore(fr),s=yield o.get(n),a=t(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&rC(e,a.fid),a})}function th(e){return I(this,null,function*(){let t,n=yield Tc(e.appConfig,r=>{let i=nO(r),o=rO(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===Jf?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})}function nO(e){let t=e||{fid:ZR(),registrationStatus:0};return sC(t)}function rO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(dr.create("app-offline"));return{installationEntry:t,registrationPromise:i}}let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=iO(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:oO(e)}:{installationEntry:t}}function iO(e,t){return I(this,null,function*(){try{let n=yield GR(e,t);return bc(e.appConfig,n)}catch(n){throw Zw(n)&&n.customData.serverCode===409?yield oC(e.appConfig):yield bc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})}function oO(e){return I(this,null,function*(){let t=yield Hw(e.appConfig);for(;t.registrationStatus===1;)yield tC(100),t=yield Hw(e.appConfig);if(t.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield th(e);return r||n}return t})}function Hw(e){return Tc(e,t=>{if(!t)throw dr.create("installation-not-found");return sC(t)})}function sC(e){return sO(e)?{fid:e.fid,registrationStatus:0}:e}function sO(e){return e.registrationStatus===1&&e.registrationTime+Gw<Date.now()}function aO(r,i){return I(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},n){let o=cO(e,n),s=HR(e,n),a=t.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:qw,appId:e.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield eC(()=>fetch(o,l));if(u.ok){let d=yield u.json();return Kw(d)}else throw yield Jw("Generate Auth Token",u)})}function cO(e,{fid:t}){return`${Qw(e)}/${t}/authTokens:generate`}function nh(e,t=!1){return I(this,null,function*(){let n,r=yield Tc(e.appConfig,o=>{if(!aC(o))throw dr.create("not-registered");let s=o.authToken;if(!t&&dO(s))return o;if(s.requestStatus===1)return n=lO(e,t),o;{if(!navigator.onLine)throw dr.create("app-offline");let a=hO(o);return n=uO(e,a),a}});return n?yield n:r.authToken})}function lO(e,t){return I(this,null,function*(){let n=yield zw(e.appConfig);for(;n.authToken.requestStatus===1;)yield tC(100),n=yield zw(e.appConfig);let r=n.authToken;return r.requestStatus===0?nh(e,t):r})}function zw(e){return Tc(e,t=>{if(!aC(t))throw dr.create("not-registered");let n=t.authToken;return pO(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function uO(e,t){return I(this,null,function*(){try{let n=yield aO(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield bc(e.appConfig,r),n}catch(n){if(Zw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield oC(e.appConfig);else{let r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield bc(e.appConfig,r)}throw n}})}function aC(e){return e!==void 0&&e.registrationStatus===2}function dO(e){return e.requestStatus===2&&!fO(e)}function fO(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jR}function hO(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function pO(e){return e.requestStatus===1&&e.requestTime+Gw<Date.now()}function gO(e){return I(this,null,function*(){let t=e,{installationEntry:n,registrationPromise:r}=yield th(t);return r?r.catch(console.error):nh(t).catch(console.error),n.fid})}function mO(e,t=!1){return I(this,null,function*(){let n=e;return yield yO(n),(yield nh(n,t)).token})}function yO(e){return I(this,null,function*(){let{registrationPromise:t}=yield th(e);t&&(yield t)})}function vO(e){if(!e||!e.options)throw Kf("App Configuration");if(!e.name)throw Kf("App Name");let t=["projectId","apiKey","appId"];for(let n of t)if(!e.options[n])throw Kf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Kf(e){return dr.create("missing-app-config-values",{valueName:e})}var cC="installations",_O="installations-internal",wO=e=>{let t=e.getProvider("app").getImmediate(),n=vO(t),r=On(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},CO=e=>{let t=e.getProvider("app").getImmediate(),n=On(t,cC).getImmediate();return{getId:()=>gO(n),getToken:i=>mO(n,i)}};function DO(){lt(new Se(cC,wO,"PUBLIC")),lt(new Se(_O,CO,"PRIVATE"))}DO();Re(Ww,Xf);Re(Ww,Xf,"esm2017");var Mc="analytics",EO="firebase_id",IO="origin",bO=60*1e3,SO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lh="https://www.googletagmanager.com/gtag/js";var Oe=new xn("@firebase/analytics");var TO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ge=new Yt("analytics","Analytics",TO);function MO(e){if(!e.startsWith(lh)){let t=Ge.create("invalid-gtag-resource",{gtagURL:e});return Oe.warn(t.message),""}return e}function gC(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function AO(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function NO(e,t){let n=AO("firebase-js-sdk-policy",{createScriptURL:MO}),r=document.createElement("script"),i=`${lh}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function xO(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function RO(e,t,n,r,i,o){return I(this,null,function*(){let s=r[i];try{if(s)yield t[s];else{let c=(yield gC(n)).find(l=>l.measurementId===i);c&&(yield t[c.appId])}}catch(a){Oe.error(a)}e("config",i,o)})}function OO(e,t,n,r,i){return I(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield gC(n);for(let c of s){let l=a.find(d=>d.measurementId===c),u=l&&t[l.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){Oe.error(o)}})}function PO(e,t,n,r){function i(o,...s){return I(this,null,function*(){try{if(o==="event"){let[a,c]=s;yield OO(e,t,n,a,c)}else if(o==="config"){let[a,c]=s;yield RO(e,t,n,r,a,c)}else if(o==="consent"){let[a,c]=s;e("consent",a,c)}else if(o==="get"){let[a,c,l]=s;e("get",a,c,l)}else if(o==="set"){let[a]=s;e("set",a)}else e(o,...s)}catch(a){Oe.error(a)}})}return i}function kO(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=PO(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function FO(e){let t=window.document.getElementsByTagName("script");for(let n of Object.values(t))if(n.src&&n.src.includes(lh)&&n.src.includes(e))return n;return null}var LO=30,VO=1e3,ih=class{constructor(t={},n=VO){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}},mC=new ih;function jO(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function BO(e){return I(this,null,function*(){var t;let{appId:n,apiKey:r}=e,i={method:"GET",headers:jO(r)},o=SO.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let c=yield s.json();!((t=c.error)===null||t===void 0)&&t.message&&(a=c.error.message)}catch{}throw Ge.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function UO(r){return I(this,arguments,function*(e,t=mC,n){let{appId:i,apiKey:o,measurementId:s}=e.options;if(!i)throw Ge.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Ge.create("no-api-key")}let a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new oh;return setTimeout(()=>I(this,null,function*(){c.abort()}),n!==void 0?n:bO),yC({appId:i,apiKey:o,measurementId:s},a,c,t)})}function yC(o,s,a){return I(this,arguments,function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=mC){var c;let{appId:l,measurementId:u}=e;try{yield $O(r,t)}catch(d){if(u)return Oe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{let d=yield BO(e);return i.deleteThrottleMetadata(l),d}catch(d){let f=d;if(!HO(f)){if(i.deleteThrottleMetadata(l),u)return Oe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw d}let h=Number((c=f?.customData)===null||c===void 0?void 0:c.httpStatus)===503?kf(n,i.intervalMillis,LO):kf(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(l,p),Oe.debug(`Calling attemptFetch again in ${h} millis`),yC(e,p,r,i)}})}function $O(e,t){return new Promise((n,r)=>{let i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Ge.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function HO(e){if(!(e instanceof ct)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var oh=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var sh;function zO(e,t,n,r,i){return I(this,null,function*(){if(i&&i.global){e("event",n,r);return}else{let o=yield t,s=Object.assign(Object.assign({},r),{send_to:o});e("event",n,s)}})}var ah;function WO(e){ah=e}function GO(e){sh=e}function qO(){return I(this,null,function*(){if(vc())try{yield _c()}catch(e){return Oe.warn(Ge.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return Oe.warn(Ge.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function YO(e,t,n,r,i,o,s){return I(this,null,function*(){var a;let c=UO(e);c.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Oe.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Oe.error(h)),t.push(c);let l=qO().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);FO(o)||NO(o,u.measurementId),ah&&(i("consent","default",ah),WO(void 0)),i("js",new Date);let f=(a=s?.config)!==null&&a!==void 0?a:{};return f[IO]="firebase",f.update=!0,d!=null&&(f[EO]=d),i("config",u.measurementId,f),sh&&(i("set",sh),GO(void 0)),u.measurementId})}var ch=class{constructor(t){this.app=t}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}},Lo={},lC=[],uC={},rh="dataLayer",ZO="gtag",dC,vC,fC=!1;function QO(){let e=[];if(Cw()&&e.push("This is a browser extension environment."),Ew()||e.push("Cookies are not available."),e.length>0){let t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ge.create("invalid-analytics-context",{errorInfo:t});Oe.warn(n.message)}}function KO(e,t,n){QO();let r=e.options.appId;if(!r)throw Ge.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Oe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ge.create("no-api-key");if(Lo[r]!=null)throw Ge.create("already-exists",{id:r});if(!fC){xO(rh);let{wrappedGtag:o,gtagCore:s}=kO(Lo,lC,uC,rh,ZO);vC=o,dC=s,fC=!0}return Lo[r]=YO(e,lC,uC,t,dC,rh,n),new ch(e)}function _C(e=Fo()){e=bt(e);let t=On(e,Mc);return t.isInitialized()?t.getImmediate():JO(e)}function JO(e,t={}){let n=On(e,Mc);if(n.isInitialized()){let i=n.getImmediate();if(hi(t,n.getOptions()))return i;throw Ge.create("already-initialized")}return n.initialize({options:t})}function XO(e,t,n,r){e=bt(e),zO(vC,Lo[e.app.options.appId],t,n,r).catch(i=>Oe.error(i))}var hC="@firebase/analytics",pC="0.10.9";function eP(){lt(new Se(Mc,(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return KO(r,i,n)},"PUBLIC")),lt(new Se("analytics-internal",e,"PRIVATE")),Re(hC,pC),Re(hC,pC,"esm2017");function e(t){try{let n=t.getProvider(Mc).getImmediate();return{logEvent:(r,i,o)=>XO(n,r,i,o)}}catch(n){throw Ge.create("interop-component-reg-failed",{reason:n})}}}eP();var wC="@firebase/database",CC="1.0.9";var pp="";function tP(e){pp=e}var yh=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ge(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:fi(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var vh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return It(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var tD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new yh(t)}}catch{}return new vh},pr=tD("localStorage"),_h=tD("sessionStorage");var mi=new xn("@firebase/database"),nP=function(){let e=1;return function(){return e++}}(),nD=function(e){let t=Mw(e),n=new mc;n.update(t);let r=n.digest();return yc.encodeByteArray(r)},Xo=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Xo.apply(null,r):typeof r=="object"?t+=ge(r):t+=r,t+=" "}return t},mr=null,DC=!0,rP=function(e,t){m(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(mi.logLevel=ee.VERBOSE,mr=mi.log.bind(mi),t&&_h.set("logging_enabled",!0)):typeof e=="function"?mr=e:(mr=null,_h.remove("logging_enabled"))},De=function(...e){if(DC===!0&&(DC=!1,mr===null&&_h.get("logging_enabled")===!0&&rP(!0)),mr){let t=Xo.apply(null,e);mr(t)}},es=function(e){return function(...t){De(e,...t)}},wh=function(...e){let t="FIREBASE INTERNAL ERROR: "+Xo(...e);mi.error(t)},Qt=function(...e){let t=`FIREBASE FATAL ERROR: ${Xo(...e)}`;throw mi.error(t),new Error(t)},ke=function(...e){let t="FIREBASE WARNING: "+Xo(...e);mi.warn(t)},iP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ke("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rD=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},oP=function(e){if(Et()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},_i="[MIN_NAME]",yr="[MAX_NAME]",Ti=function(e,t){if(e===t)return 0;if(e===_i||t===yr)return-1;if(t===_i||e===yr)return 1;{let n=EC(e),r=EC(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},sP=function(e,t){return e===t?0:e<t?-1:1},Vo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ge(t))},gp=function(e){if(typeof e!="object"||e===null)return ge(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=ge(t[r]),n+=":",n+=gp(e[t[r]]);return n+="}",n},iD=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Fe(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var oD=function(e){m(!rD(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},aP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lP(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var uP=new RegExp("^-?(0*)\\d{1,10}$"),dP=-2147483648,fP=2147483647,EC=function(e){if(uP.test(e)){let t=Number(e);if(t>=dP&&t<=fP)return t}return null},Mi=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw ke("Exception was thrown by user callback.",n),t},Math.floor(0))}},hP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ho=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Ch=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){ke(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Dh=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(De("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ke(t)}},zo=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Nc="5",sD="v",aD="s",cD="r",lD="f",uD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dD="ls",fD="p",Eh="ac",hD="websocket",pD="long_polling";var xc=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&pr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function pP(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function gD(e,t,n){m(typeof t=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(t===hD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===pD)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);pP(e)&&(n.ns=e.namespace);let i=[];return Fe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Ih=class{constructor(){this.counters_={}}incrementCounter(t,n=1){It(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return mw(this.counters_)}};var uh={},dh={};function mp(e){let t=e.toString();return uh[t]||(uh[t]=new Ih),uh[t]}function gP(e,t){let n=e.toString();return dh[n]||(dh[n]=t()),dh[n]}var bh=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Mi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var IC="start",mP="close",yP="pLPCommand",vP="pRTLPCB",mD="id",yD="pw",vD="ser",_P="cb",wP="seg",CP="ts",DP="d",EP="dframe",_D=1870,wD=30,IP=_D-wD,bP=25e3,SP=3e4,Sh=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=es(t),this.stats_=mp(n),this.urlFn=c=>(this.appCheckToken&&(c[Eh]=this.appCheckToken),gD(n,pD,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bh(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(SP)),oP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Th((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===IC)this.id=a,this.password=c;else if(s===mP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[IC]="t",r[vD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_P]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sD]=Nc,this.transportSessionId&&(r[aD]=this.transportSessionId),this.lastSessionId&&(r[dD]=this.lastSessionId),this.applicationId&&(r[fD]=this.applicationId),this.appCheckToken&&(r[Eh]=this.appCheckToken),typeof location<"u"&&location.hostname&&uD.test(location.hostname)&&(r[cD]=lD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Et()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aP()&&!cP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=ge(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=xf(n),i=iD(r,IP);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Et())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[EP]="t",r[mD]=t,r[yD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=ge(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Th=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Et())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=nP(),window[yP+this.uniqueCallbackIdentifier]=t,window[vP+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){De("frame writing exception"),a.stack&&De(a.stack),De(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||De("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[mD]=this.myID,t[yD]=this.myPW,t[vD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+wD+r.length<=_D;){let s=this.pendingSegs.shift();r=r+"&"+wP+i+"="+s.seg+"&"+CP+i+"="+s.ts+"&"+DP+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(bP)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Et()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{De("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var TP=16384,MP=45e3,Rc=null;typeof MozWebSocket<"u"?Rc=MozWebSocket:typeof WebSocket<"u"&&(Rc=WebSocket);var jo=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=es(this.connId),this.stats_=mp(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[sD]=Nc,!Et()&&typeof location<"u"&&location.hostname&&uD.test(location.hostname)&&(a[cD]=lD),r&&(a[aD]=r),i&&(a[dD]=i),o&&(a[Eh]=o),s&&(a[fD]=s),gD(n,hD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pr.set("previous_websocket_failure",!0);try{let i;if(Et()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Nc}/${pp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Rc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Rc!==null&&!e.forceDisallow_}static previouslyFailed(){return pr.isInMemoryStorage||pr.get("previous_websocket_failure")===!0}markConnectionHealthy(){pr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=fi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ge(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=iD(r,TP);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MP))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),AP=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Sh,jo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=jo&&jo.isAvailable(),i=r&&!jo.previouslyFailed();if(n.webSocketOnly&&(r||ke("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[jo];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),NP=6e4,xP=5e3,RP=10*1024,OP=100*1024,fh="t",bC="d",PP="s",SC="r",kP="e",TC="o",MC="a",AC="n",NC="p",FP="h",Mh=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=es("c:"+this.id+":"),this.transportManager_=new AP(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ho(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>OP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(fh in t){let n=t[fh];n===MC?this.upgradeIfSecondaryHealthy_():n===SC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===TC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Vo("t",t),r=Vo("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:NC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:MC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Vo("t",t),r=Vo("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Vo(fh,t);if(bC in t){let r=t[bC];if(n===FP){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===AC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===PP?this.onConnectionShutdown_(r):n===SC?this.onReset_(r):n===kP?wh("Server Error: "+r):n===TC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):wh("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Nc!==r&&ke("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ho(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(NP))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ho(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:NC,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Oc=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var Pc=class{constructor(t){this.allowedEvents_=t,this.listeners_={},m(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){m(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var kc=class e extends Pc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Of()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return m(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var xC=32,RC=768,Z=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function q(){return new Z("")}function k(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function kn(e){return e.pieces_.length-e.pieceNum_}function te(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Z(e.pieces_,t)}function CD(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function LP(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function DD(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ED(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Z(t,0)}function me(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Z)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function V(e){return e.pieceNum_>=e.pieces_.length}function Pe(e,t){let n=k(e),r=k(t);if(n===null)return t;if(n===r)return Pe(te(e),te(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function yp(e,t){if(kn(e)!==kn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function dt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(kn(e)>kn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ah=class{constructor(t,n){this.errorPrefix_=n,this.parts_=DD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Oo(this.parts_[r]);ID(this)}};function VP(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Oo(t),ID(e)}function jP(e){let t=e.parts_.pop();e.byteLength_-=Oo(t),e.parts_.length>0&&(e.byteLength_-=1)}function ID(e){if(e.byteLength_>RC)throw new Error(e.errorPrefix_+"has a key path longer than "+RC+" bytes ("+e.byteLength_+").");if(e.parts_.length>xC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xC+") or object contains a cycle "+hr(e))}function hr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Nh=class e extends Pc{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new e}getInitialEvent(t){return m(t==="visible","Unknown event type: "+t),[this.visible_]}};var Bo=1e3,BP=60*5*1e3,OC=30*1e3,UP=1.3,$P=3e4,HP="server_kill",PC=3,vp=(()=>{class e extends Oc{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=es("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bo,this.maxReconnectDelay_=BP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Et())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&kc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ge(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Nn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&It(n,"w")){let i=cr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ke(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Sw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=OC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=bw(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ge(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):wh("Unrecognized action received from server: "+ge(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$P&&(this.reconnectDelay_=Bo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*UP)}this.onConnectStatus_(!1)}establishConnection_(){return I(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?De("getToken() completed but was canceled"):(De("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Mh(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ke(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(HP)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ke(f),l())}}})}interrupt(n){De("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){De("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Pf(this.interruptReasons_)&&(this.reconnectDelay_=Bo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>gp(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Z(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){De("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=PC&&(this.reconnectDelay_=OC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){De("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=PC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Et()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+pp.replace(/\./g,"-")]=1,Of()?n["framework.cordova"]=1:Dw()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=kc.getInstance().currentlyOnline();return Pf(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),F=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var wi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new F(_i,t),i=new F(_i,n);return this.compare(r,i)!==0}minPost(){return F.MIN}};var Ac,Fc=class extends wi{static get __EMPTY_NODE(){return Ac}static set __EMPTY_NODE(t){Ac=t}compare(t,n){return Ti(t.name,n.name)}isDefinedOn(t){throw ar("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return F.MIN}maxPost(){return new F(yr,Ac)}makePost(t,n){return m(typeof t=="string","KeyIndex indexValue must always be a string."),new F(t,Ac)}toString(){return".key"}},yi=new Fc;var gi=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},ut=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Xe.EMPTY_NODE,this.right=s??Xe.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xe.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Xe.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),xh=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new ut(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Xe=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new gi(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new gi(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new gi(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new gi(this.root_,null,this.comparator_,!0,t)}};Xe.EMPTY_NODE=new xh;function zP(e,t){return Ti(e.name,t.name)}function _p(e,t){return Ti(e,t)}var Rh;function WP(e){Rh=e}var bD=function(e){return typeof e=="number"?"number:"+oD(e):"string:"+e},SD=function(e){if(e.isLeafNode()){let t=e.val();m(typeof t=="string"||typeof t=="number"||typeof t=="object"&&It(t,".sv"),"Priority must be a string or number.")}else m(e===Rh||e.isEmpty(),"priority of unexpected type.");m(e===Rh||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var kC,Ci=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),SD(this.priorityNode_)}static set __childrenNodeConstructor(n){kC=n}static get __childrenNodeConstructor(){return kC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return V(n)?this:k(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=k(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||kn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(te(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+bD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=oD(this.value_):n+=this.value_,this.lazyHash_=nD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),TD,MD;function GP(e){TD=e}function qP(e){MD=e}var Oh=class extends wi{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ti(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return F.MIN}maxPost(){return new F(yr,new Ci("[PRIORITY-POST]",MD))}makePost(t,n){let r=TD(t);return new F(n,new Ci("[PRIORITY-POST]",r))}toString(){return".priority"}},ie=new Oh;var YP=Math.log(2),Ph=class{constructor(t){let n=o=>parseInt(Math.log(o)/YP,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Lc=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new ut(f,d.node,ut.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),g=i(h+1,l);return d=e[h],f=n?n(d):d,new ut(f,d.node,ut.BLACK,p,g)}},o=function(c){let l=null,u=null,d=e.length,f=function(p,g){let _=d-p,E=d;d-=p;let J=i(_+1,E),j=e[_],ce=n?n(j):j;h(new ut(ce,j.node,g,null,J))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let g=c.nextBitIsOne(),_=Math.pow(2,c.count-(p+1));g?f(_,ut.BLACK):(f(_,ut.BLACK),f(_,ut.RED))}return u},s=new Ph(e.length),a=o(s);return new Xe(r||t,a)};var hh,pi={},Di=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return m(pi&&ie,"ChildrenNode.ts has not been loaded"),hh=hh||new e({".priority":pi},{".priority":ie}),hh}get(t){let n=cr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Xe?n:null}hasIndex(t){return It(this.indexSet_,t.toString())}addIndex(t,n){m(t!==yi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(F.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Lc(r,t.getCompare()):a=pi;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=Ro(this.indexes_,(i,o)=>{let s=cr(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===pi)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(F.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Lc(a,s.getCompare())}else return pi;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new F(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=Ro(this.indexes_,i=>{if(i===pi)return i;{let o=n.get(t.name);return o?i.remove(new F(t.name,o)):i}});return new e(r,this.indexSet_)}};var Uo,R=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&SD(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Uo||(Uo=new e(new Xe(_p),null,Di.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uo}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Uo:r}}getChild(n){let r=k(n);return r===null?this:this.getImmediateChild(r).getChild(te(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new F(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Uo:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=k(n);if(i===null)return r;{m(k(n)!==".priority"||kn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(te(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ie,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+bD(this.getPriority().val())+":"),this.forEachChild(ie,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":nD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new F(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new F(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new F(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,F.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,F.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ts?-1:0}withIndex(n){if(n===yi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===yi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ie),o=r.getIterator(ie),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===yi?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),kh=class extends R{constructor(){super(new Xe(_p),R.EMPTY_NODE,Di.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return R.EMPTY_NODE}isEmpty(){return!1}},ts=new kh;Object.defineProperties(F,{MIN:{value:new F(_i,R.EMPTY_NODE)},MAX:{value:new F(yr,ts)}});Fc.__EMPTY_NODE=R.EMPTY_NODE;Ci.__childrenNodeConstructor=R;WP(ts);qP(ts);var ZP=!0;function Ce(e,t=null){if(e===null)return R.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),m(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Ci(n,Ce(t))}if(!(e instanceof Array)&&ZP){let n=[],r=!1;if(Fe(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ce(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new F(s,c)))}}),n.length===0)return R.EMPTY_NODE;let o=Lc(n,zP,s=>s.name,_p);if(r){let s=Lc(n,ie.getCompare());return new R(o,Ce(t),new Di({".priority":s},{".priority":ie}))}else return new R(o,Ce(t),Di.Default)}else{let n=R.EMPTY_NODE;return Fe(e,(r,i)=>{if(It(e,r)&&r.substring(0,1)!=="."){let o=Ce(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ce(t))}}GP(Ce);var Fh=class extends wi{constructor(t){super(),this.indexPath_=t,m(!V(t)&&k(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ti(t.name,n.name):o}makePost(t,n){let r=Ce(t),i=R.EMPTY_NODE.updateChild(this.indexPath_,r);return new F(n,i)}maxPost(){let t=R.EMPTY_NODE.updateChild(this.indexPath_,ts);return new F(yr,t)}toString(){return DD(this.indexPath_,0).join("/")}};var Lh=class extends wi{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Ti(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return F.MIN}maxPost(){return F.MAX}makePost(t,n){let r=Ce(t);return new F(n,r)}toString(){return".value"}},QP=new Lh;function AD(e){return{type:"value",snapshotNode:e}}function Ei(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Yo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Zo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function KP(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Qo=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){m(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Yo(n,a)):m(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ei(n,r)):s.trackChildChange(Zo(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ie,(i,o)=>{n.hasChild(i)||r.trackChildChange(Yo(i,o))}),n.isLeafNode()||n.forEachChild(ie,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Zo(i,o,s))}else r.trackChildChange(Ei(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?R.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Vc=class e{constructor(t){this.indexedFilter_=new Qo(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new F(n,r))||(r=R.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=R.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(R.EMPTY_NODE);let o=this;return n.forEachChild(ie,(s,a)=>{o.matches(new F(s,a))||(i=i.updateImmediateChild(s,R.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Vh=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Vc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new F(n,r))||(r=R.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=R.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=R.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(R.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,R.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;m(a.numChildren()===this.limit_,"");let c=new F(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Zo(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Yo(n,d));let g=a.updateImmediateChild(n,R.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Ei(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Yo(l.name,l.node)),o.trackChildChange(Ei(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,R.EMPTY_NODE)):t}};var jh=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_i}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ie}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function JP(e){return e.loadsAllData()?new Qo(e.getIndex()):e.hasLimit()?new Vh(e):new Vc(e)}function FC(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ie?n="$priority":e.index_===QP?n="$value":e.index_===yi?n="$key":(m(e.index_ instanceof Fh,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ge(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=ge(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ge(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ge(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ge(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function LC(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ie&&(t.i=e.index_.toString()),t}var Bh=class e extends Oc{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=es("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(m(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=FC(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),cr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=FC(t._queryParams),r=t._path.toString(),i=new Nn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Tw(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=fi(a.responseText)}catch{ke("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ke("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Uh=class{constructor(){this.rootNode_=R.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function jc(){return{value:null,children:new Map}}function ND(e,t,n){if(V(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=k(t);e.children.has(r)||e.children.set(r,jc());let i=e.children.get(r);t=te(t),ND(i,t,n)}}function $h(e,t,n){e.value!==null?n(t,e.value):XP(e,(r,i)=>{let o=new Z(t.toString()+"/"+r);$h(i,o,n)})}function XP(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Hh=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Fe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var VC=10*1e3,ek=30*1e3,tk=5*60*1e3,zh=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hh(t);let r=VC+(ek-VC)*Math.random();Ho(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Fe(t,(i,o)=>{o>0&&It(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ho(this.reportStats_.bind(this),Math.floor(Math.random()*2*tk))}};var Tt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Tt||{});function xD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Wh=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Tt.ACK_USER_WRITE,this.source=xD()}operationForChild(t){if(V(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Z(t));return new e(q(),n,this.revert)}}else return m(k(this.path)===t,"operationForChild called for unrelated child."),new e(te(this.path),this.affectedTree,this.revert)}};var Bc=class e{constructor(t,n){this.source=t,this.path=n,this.type=Tt.LISTEN_COMPLETE}operationForChild(t){return V(this.path)?new e(this.source,q()):new e(this.source,te(this.path))}};var Ii=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Tt.OVERWRITE}operationForChild(t){return V(this.path)?new e(this.source,q(),this.snap.getImmediateChild(t)):new e(this.source,te(this.path),this.snap)}};var Uc=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Tt.MERGE}operationForChild(t){if(V(this.path)){let n=this.children.subtree(new Z(t));return n.isEmpty()?null:n.value?new Ii(this.source,q(),n.value):new e(this.source,q(),n)}else return m(k(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Kt=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(V(t))return this.isFullyInitialized()&&!this.filtered_;let n=k(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Gh=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function nk(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(KP(s.childName,s.snapshotNode))}),$o(e,i,"child_removed",t,r,n),$o(e,i,"child_added",t,r,n),$o(e,i,"child_moved",o,r,n),$o(e,i,"child_changed",t,r,n),$o(e,i,"value",t,r,n),i}function $o(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>ik(e,a,c)),s.forEach(a=>{let c=rk(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function rk(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function ik(e,t,n){if(t.childName==null||n.childName==null)throw ar("Should only compare child_ events.");let r=new F(t.childName,t.snapshotNode),i=new F(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Jc(e,t){return{eventCache:e,serverCache:t}}function Wo(e,t,n,r){return Jc(new Kt(t,n,r),e.serverCache)}function RD(e,t,n,r){return Jc(e.eventCache,new Kt(t,n,r))}function qh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function vr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ph,ok=()=>(ph||(ph=new Xe(sP)),ph),Le=class e{constructor(t,n=ok()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return Fe(t,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(V(t))return null;{let r=k(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(te(t),n);return o!=null?{path:me(new Z(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(V(t))return this;{let n=k(t),r=this.children.get(n);return r!==null?r.subtree(te(t)):new e(null)}}set(t,n){if(V(t))return new e(n,this.children);{let r=k(t),o=(this.children.get(r)||new e(null)).set(te(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(V(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=k(t),r=this.children.get(n);if(r){let i=r.remove(te(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(V(t))return this.value;{let n=k(t),r=this.children.get(n);return r?r.get(te(t)):null}}setTree(t,n){if(V(t))return n;{let r=k(t),o=(this.children.get(r)||new e(null)).setTree(te(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(q(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(me(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,q(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(V(t))return null;{let o=k(t),s=this.children.get(o);return s?s.findOnPath_(te(t),me(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,q(),n)}foreachOnPath_(t,n,r){if(V(t))return this;{this.value&&r(n,this.value);let i=k(t),o=this.children.get(i);return o?o.foreachOnPath_(te(t),me(n,i),r):new e(null)}}foreach(t){this.foreach_(q(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(me(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var ft=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Le(null))}};function Go(e,t,n){if(V(t))return new ft(new Le(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Pe(i,t);return o=o.updateChild(s,n),new ft(e.writeTree_.set(i,o))}else{let i=new Le(n),o=e.writeTree_.setTree(t,i);return new ft(o)}}}function jC(e,t,n){let r=e;return Fe(n,(i,o)=>{r=Go(r,me(t,i),o)}),r}function BC(e,t){if(V(t))return ft.empty();{let n=e.writeTree_.setTree(t,new Le(null));return new ft(n)}}function Yh(e,t){return _r(e,t)!=null}function _r(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Pe(n.path,t)):null}function UC(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ie,(r,i)=>{t.push(new F(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new F(r,i.value))}),t}function Pn(e,t){if(V(t))return e;{let n=_r(e,t);return n!=null?new ft(new Le(n)):new ft(e.writeTree_.subtree(t))}}function Zh(e){return e.writeTree_.isEmpty()}function bi(e,t){return OD(q(),e.writeTree_,t)}function OD(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=OD(me(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(me(e,".priority"),r)),n}}function Dp(e,t){return LD(t,e)}function sk(e,t,n,r,i){m(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Go(e.visibleWrites,t,n)),e.lastWriteId=r}function ak(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function ck(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);m(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&lk(a,r.path)?i=!1:dt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return uk(e),!0;if(r.snap)e.visibleWrites=BC(e.visibleWrites,r.path);else{let a=r.children;Fe(a,c=>{e.visibleWrites=BC(e.visibleWrites,me(r.path,c))})}return!0}else return!1}function lk(e,t){if(e.snap)return dt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&dt(me(e.path,n),t))return!0;return!1}function uk(e){e.visibleWrites=PD(e.allWrites,dk,q()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function dk(e){return e.visible}function PD(e,t,n){let r=ft.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)dt(n,s)?(a=Pe(n,s),r=Go(r,a,o.snap)):dt(s,n)&&(a=Pe(s,n),r=Go(r,q(),o.snap.getChild(a)));else if(o.children){if(dt(n,s))a=Pe(n,s),r=jC(r,a,o.children);else if(dt(s,n))if(a=Pe(s,n),V(a))r=jC(r,q(),o.children);else{let c=cr(o.children,k(a));if(c){let l=c.getChild(te(a));r=Go(r,q(),l)}}}else throw ar("WriteRecord should have .snap or .children")}}return r}function kD(e,t,n,r,i){if(!r&&!i){let o=_r(e.visibleWrites,t);if(o!=null)return o;{let s=Pn(e.visibleWrites,t);if(Zh(s))return n;if(n==null&&!Yh(s,q()))return null;{let a=n||R.EMPTY_NODE;return bi(s,a)}}}else{let o=Pn(e.visibleWrites,t);if(!i&&Zh(o))return n;if(!i&&n==null&&!Yh(o,q()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(dt(l.path,t)||dt(t,l.path))},a=PD(e.allWrites,s,t),c=n||R.EMPTY_NODE;return bi(a,c)}}}function fk(e,t,n){let r=R.EMPTY_NODE,i=_r(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ie,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Pn(e.visibleWrites,t);return n.forEachChild(ie,(s,a)=>{let c=bi(Pn(o,new Z(s)),a);r=r.updateImmediateChild(s,c)}),UC(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Pn(e.visibleWrites,t);return UC(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function hk(e,t,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=me(t,n);if(Yh(e.visibleWrites,o))return null;{let s=Pn(e.visibleWrites,o);return Zh(s)?i.getChild(n):bi(s,i.getChild(n))}}function pk(e,t,n,r){let i=me(t,n),o=_r(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Pn(e.visibleWrites,i);return bi(s,r.getNode().getImmediateChild(n))}else return null}function gk(e,t){return _r(e.visibleWrites,t)}function mk(e,t,n,r,i,o,s){let a,c=Pn(e.visibleWrites,t),l=_r(c,q());if(l!=null)a=l;else if(n!=null)a=bi(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function yk(){return{visibleWrites:ft.empty(),allWrites:[],lastWriteId:-1}}function $c(e,t,n,r){return kD(e.writeTree,e.treePath,t,n,r)}function Ep(e,t){return fk(e.writeTree,e.treePath,t)}function $C(e,t,n,r){return hk(e.writeTree,e.treePath,t,n,r)}function Hc(e,t){return gk(e.writeTree,me(e.treePath,t))}function vk(e,t,n,r,i,o){return mk(e.writeTree,e.treePath,t,n,r,i,o)}function Ip(e,t,n){return pk(e.writeTree,e.treePath,t,n)}function FD(e,t){return LD(me(e.treePath,t),e.writeTree)}function LD(e,t){return{treePath:e,writeTree:t}}var Qh=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Zo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Yo(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ei(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Zo(r,t.snapshotNode,i.oldSnap));else throw ar("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Kh=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},VD=new Kh,Ko=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ip(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vr(this.viewCache_),o=vk(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function _k(e){return{filter:e}}function wk(e,t){m(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),m(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Ck(e,t,n,r,i){let o=new Qh,s,a;if(n.type===Tt.OVERWRITE){let l=n;l.source.fromUser?s=Jh(e,t,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!V(l.path),s=zc(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Tt.MERGE){let l=n;l.source.fromUser?s=Ek(e,t,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=Xh(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Tt.ACK_USER_WRITE){let l=n;l.revert?s=Sk(e,t,l.path,r,i,o):s=Ik(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===Tt.LISTEN_COMPLETE)s=bk(e,t,n.path,r,o);else throw ar("Unknown operation type: "+n.type);let c=o.getChanges();return Dk(t,s,c),{viewCache:s,changes:c}}function Dk(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=qh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(AD(qh(t)))}}function jD(e,t,n,r,i,o){let s=t.eventCache;if(Hc(r,n)!=null)return t;{let a,c;if(V(n))if(m(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=vr(t),u=l instanceof R?l:R.EMPTY_NODE,d=Ep(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=$c(r,vr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=k(n);if(l===".priority"){m(kn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=$C(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=te(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let f=$C(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Ip(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Wo(t,a,s.isFullyInitialized()||V(n),e.filter.filtersNodes())}}function zc(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(V(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=k(n);if(!c.isCompleteForPath(n)&&kn(n)>1)return t;let p=te(n),_=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),_):l=u.updateChild(c.getNode(),h,_,p,VD,null)}let d=RD(t,l,c.isFullyInitialized()||V(n),u.filtersNodes()),f=new Ko(i,d,o);return jD(e,d,n,i,f,a)}function Jh(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Ko(i,t,o);if(V(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Wo(t,l,!0,e.filter.filtersNodes());else{let d=k(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Wo(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=te(n),h=a.getNode().getImmediateChild(d),p;if(V(f))p=r;else{let g=u.getCompleteChild(d);g!=null?CD(f)===".priority"&&g.getChild(ED(f)).isEmpty()?p=g:p=g.updateChild(f,r):p=R.EMPTY_NODE}if(h.equals(p))c=t;else{let g=e.filter.updateChild(a.getNode(),d,p,f,u,s);c=Wo(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function HC(e,t){return e.eventCache.isCompleteForChild(t)}function Ek(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=me(n,c);HC(t,k(u))&&(a=Jh(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=me(n,c);HC(t,k(u))||(a=Jh(e,a,u,l,i,o,s))}),a}function zC(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Xh(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;V(n)?l=r:l=new Le(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=zC(e,h,f);c=zc(e,c,new Z(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),g=zC(e,p,f);c=zc(e,c,new Z(d),g,i,o,s,a)}}),c}function Ik(e,t,n,r,i,o,s){if(Hc(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(V(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return zc(e,t,n,c.getNode().getChild(n),i,o,a,s);if(V(n)){let l=new Le(null);return c.getNode().forEachChild(yi,(u,d)=>{l=l.set(new Z(u),d)}),Xh(e,t,n,l,i,o,a,s)}else return t}else{let l=new Le(null);return r.foreach((u,d)=>{let f=me(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Xh(e,t,n,l,i,o,a,s)}}function bk(e,t,n,r,i){let o=t.serverCache,s=RD(t,o.getNode(),o.isFullyInitialized()||V(n),o.isFiltered());return jD(e,s,n,r,VD,i)}function Sk(e,t,n,r,i,o){let s;if(Hc(r,n)!=null)return t;{let a=new Ko(r,t,i),c=t.eventCache.getNode(),l;if(V(n)||k(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=$c(r,vr(t));else{let d=t.serverCache.getNode();m(d instanceof R,"serverChildren would be complete if leaf node"),u=Ep(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=k(n),d=Ip(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,te(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,R.EMPTY_NODE,te(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=$c(r,vr(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||Hc(r,q())!=null,Wo(t,l,s,e.filter.filtersNodes())}}var ep=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Qo(r.getIndex()),o=JP(r);this.processor_=_k(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(R.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(R.EMPTY_NODE,a.getNode(),null),u=new Kt(c,s.isFullyInitialized(),i.filtersNodes()),d=new Kt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jc(d,u),this.eventGenerator_=new Gh(this.query_)}get query(){return this.query_}};function Tk(e){return e.viewCache_.serverCache.getNode()}function Mk(e,t){let n=vr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!V(t)&&!n.getImmediateChild(k(t)).isEmpty())?n.getChild(t):null}function WC(e){return e.eventRegistrations_.length===0}function Ak(e,t){e.eventRegistrations_.push(t)}function GC(e,t,n){let r=[];if(n){m(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function qC(e,t,n,r){t.type===Tt.MERGE&&t.source.queryId!==null&&(m(vr(e.viewCache_),"We should always have a full cache before handling merges"),m(qh(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=Ck(e.processor_,i,t,n,r);return wk(e.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,BD(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Nk(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,(o,s)=>{r.push(Ei(o,s))}),n.isFullyInitialized()&&r.push(AD(n.getNode())),BD(e,r,n.getNode(),t)}function BD(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return nk(e.eventGenerator_,t,n,i)}var Wc,tp=class{constructor(){this.views=new Map}};function xk(e){m(!Wc,"__referenceConstructor has already been defined"),Wc=e}function Rk(){return m(Wc,"Reference.ts has not been loaded"),Wc}function Ok(e){return e.views.size===0}function bp(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),qC(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(qC(s,t,n,r));return o}}function Pk(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=$c(n,i?r:null),c=!1;a?c=!0:r instanceof R?(a=Ep(n,r),c=!1):(a=R.EMPTY_NODE,c=!1);let l=Jc(new Kt(a,c,!1),new Kt(r,i,!1));return new ep(t,l)}return s}function kk(e,t,n,r,i,o){let s=Pk(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),Ak(s,n),Nk(s,n)}function Fk(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Fn(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat(GC(l,n,r)),WC(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat(GC(c,n,r)),WC(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Fn(e)&&o.push(new(Rk())(t._repo,t._path)),{removed:o,events:s}}function UD(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function vi(e,t){let n=null;for(let r of e.views.values())n=n||Mk(r,t);return n}function $D(e,t){if(t._queryParams.loadsAllData())return Xc(e);{let r=t._queryIdentifier;return e.views.get(r)}}function HD(e,t){return $D(e,t)!=null}function Fn(e){return Xc(e)!=null}function Xc(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Gc;function Lk(e){m(!Gc,"__referenceConstructor has already been defined"),Gc=e}function Vk(){return m(Gc,"Reference.ts has not been loaded"),Gc}var jk=1,qc=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Le(null),this.pendingWriteTree_=yk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function zD(e,t,n,r,i){return sk(e.pendingWriteTree_,t,n,r,i),i?ns(e,new Ii(xD(),t,n)):[]}function gr(e,t,n=!1){let r=ak(e.pendingWriteTree_,t);if(ck(e.pendingWriteTree_,t)){let o=new Le(null);return r.snap!=null?o=o.set(q(),!0):Fe(r.children,s=>{o=o.set(new Z(s),!0)}),ns(e,new Wh(r.path,o,n))}else return[]}function el(e,t,n){return ns(e,new Ii(wp(),t,n))}function Bk(e,t,n){let r=Le.fromObject(n);return ns(e,new Uc(wp(),t,r))}function Uk(e,t){return ns(e,new Bc(wp(),t))}function $k(e,t,n){let r=Tp(e,n);if(r){let i=Mp(r),o=i.path,s=i.queryId,a=Pe(o,t),c=new Bc(Cp(s),a);return Ap(e,o,c)}else return[]}function np(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||HD(s,t))){let c=Fk(s,t,n,r);Ok(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Fn(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=Wk(f);for(let p=0;p<h.length;++p){let g=h[p],_=g.query,E=qD(e,g);e.listenProvider_.startListening(qo(_),Yc(e,_),E.hashFn,E.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(qo(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(tl(f));e.listenProvider_.stopListening(qo(f),h)}))}Gk(e,l)}return a}function Hk(e,t,n,r){let i=Tp(e,r);if(i!=null){let o=Mp(i),s=o.path,a=o.queryId,c=Pe(s,t),l=new Ii(Cp(a),c,n);return Ap(e,s,l)}else return[]}function zk(e,t,n,r){let i=Tp(e,r);if(i){let o=Mp(i),s=o.path,a=o.queryId,c=Pe(s,t),l=Le.fromObject(n),u=new Uc(Cp(a),c,l);return Ap(e,s,u)}else return[]}function YC(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Pe(f,i);o=o||vi(h,p),s=s||Fn(h)});let a=e.syncPointTree_.get(i);a?(s=s||Fn(a),o=o||vi(a,q())):(a=new tp,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=R.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let g=vi(p,q());g&&(o=o.updateImmediateChild(h,g))}));let l=HD(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=tl(t);m(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=qk();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Dp(e.pendingWriteTree_,i),d=kk(a,t,n,u,o,c);if(!l&&!s&&!r){let f=$D(a,t);d=d.concat(Yk(e,t,f))}return d}function Sp(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=Pe(s,t),l=vi(a,c);if(l)return l});return kD(i,t,o,n,!0)}function ns(e,t){return WD(t,e.syncPointTree_,null,Dp(e.pendingWriteTree_,q()))}function WD(e,t,n,r){if(V(e.path))return GD(e,t,n,r);{let i=t.get(q());n==null&&i!=null&&(n=vi(i,q()));let o=[],s=k(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=FD(r,s);o=o.concat(WD(a,c,l,u))}return i&&(o=o.concat(bp(i,e,r,n))),o}}function GD(e,t,n,r){let i=t.get(q());n==null&&i!=null&&(n=vi(i,q()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=FD(r,s),u=e.operationForChild(s);u&&(o=o.concat(GD(u,a,c,l)))}),i&&(o=o.concat(bp(i,e,r,n))),o}function qD(e,t){let n=t.query,r=Yc(e,n);return{hashFn:()=>(Tk(t)||R.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?$k(e,n._path,r):Uk(e,n._path);{let o=lP(i,n);return np(e,n,null,o)}}}}function Yc(e,t){let n=tl(t);return e.queryToTagMap.get(n)}function tl(e){return e._path.toString()+"$"+e._queryIdentifier}function Tp(e,t){return e.tagToQueryMap.get(t)}function Mp(e){let t=e.indexOf("$");return m(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Z(e.substr(0,t))}}function Ap(e,t,n){let r=e.syncPointTree_.get(t);m(r,"Missing sync point for query tag that we're tracking");let i=Dp(e.pendingWriteTree_,t);return bp(r,n,i,null)}function Wk(e){return e.fold((t,n,r)=>{if(n&&Fn(n))return[Xc(n)];{let i=[];return n&&(i=UD(n)),Fe(r,(o,s)=>{i=i.concat(s)}),i}})}function qo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Vk())(e._repo,e._path):e}function Gk(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=tl(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function qk(){return jk++}function Yk(e,t,n){let r=t._path,i=Yc(e,t),o=qD(e,n),s=e.listenProvider_.startListening(qo(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)m(!Fn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!V(l)&&u&&Fn(u))return[Xc(u).query];{let f=[];return u&&(f=f.concat(UD(u).map(h=>h.query))),Fe(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(qo(u),Yc(e,u))}}return s}var rp=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},ip=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=me(this.path_,t);return new e(this.syncTree_,n)}node(){return Sp(this.syncTree_,this.path_)}},Zk=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ZC=function(e,t,n){if(!e||typeof e!="object")return e;if(m(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Qk(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Kk(e[".sv"],t);m(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Qk=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+e)}},Kk=function(e,t,n){e.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=t.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Jk=function(e,t,n,r){return Np(t,new ip(n,e),r)},YD=function(e,t,n){return Np(e,new rp(t),n)};function Np(e,t,n){let r=e.getPriority().val(),i=ZC(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=ZC(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Ci(a,Ce(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ci(i))),s.forEachChild(ie,(a,c)=>{let l=Np(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Jo=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function xp(e,t){let n=t instanceof Z?t:new Z(t),r=e,i=k(n);for(;i!==null;){let o=cr(r.node.children,i)||{children:{},childCount:0};r=new Jo(i,r,o),n=te(n),i=k(n)}return r}function Ai(e){return e.node.value}function ZD(e,t){e.node.value=t,op(e)}function QD(e){return e.node.childCount>0}function Xk(e){return Ai(e)===void 0&&!QD(e)}function nl(e,t){Fe(e.node.children,(n,r)=>{t(new Jo(n,e,r))})}function KD(e,t,n,r){n&&!r&&t(e),nl(e,i=>{KD(i,t,!0,r)}),n&&r&&t(e)}function eF(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function rs(e){return new Z(e.parent===null?e.name:rs(e.parent)+"/"+e.name)}function op(e){e.parent!==null&&tF(e.parent,e.name,e)}function tF(e,t,n){let r=Xk(n),i=It(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,op(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,op(e))}var nF=/[\[\].#$\/\u0000-\u001F\u007F]/,rF=/[\[\].#$\u0000-\u001F\u007F]/,gh=10*1024*1024,JD=function(e){return typeof e=="string"&&e.length!==0&&!nF.test(e)},XD=function(e){return typeof e=="string"&&e.length!==0&&!rF.test(e)},iF=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),XD(e)};var eE=function(e,t,n,r){r&&t===void 0||Rp(wc(e,"value"),t,n)},Rp=function(e,t,n){let r=n instanceof Z?new Ah(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+hr(r));if(typeof t=="function")throw new Error(e+"contains a function "+hr(r)+" with contents = "+t.toString());if(rD(t))throw new Error(e+"contains "+t.toString()+" "+hr(r));if(typeof t=="string"&&t.length>gh/3&&Oo(t)>gh)throw new Error(e+"contains a string greater than "+gh+" utf8 bytes "+hr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Fe(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!JD(s)))throw new Error(e+" contains an invalid key ("+s+") "+hr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);VP(r,s),Rp(e,a,r),jP(r)}),i&&o)throw new Error(e+' contains ".value" child '+hr(r)+" in addition to actual children.")}};var tE=function(e,t,n,r){if(!(r&&n===void 0)&&!XD(n))throw new Error(wc(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},oF=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tE(e,t,n,r)},nE=function(e,t){if(k(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},sF=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!JD(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iF(n))throw new Error(wc(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var sp=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Op(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!yp(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function rE(e,t,n){Op(e,n),iE(e,r=>yp(r,t))}function Jt(e,t,n){Op(e,n),iE(e,r=>dt(r,t)||dt(t,r))}function iE(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(aF(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function aF(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();mr&&De("event: "+n.toString()),Mi(r)}}}var cF="repo_interrupt",lF=25,ap=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jc(),this.transactionQueueTree_=new Jo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function uF(e,t,n){if(e.stats_=mp(e.repoInfo_),e.forceRestClient_||hP())e.server_=new Bh(e.repoInfo_,(r,i,o,s)=>{QC(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>KC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new vp(e.repoInfo_,t,(r,i,o,s)=>{QC(e,r,i,o,s)},r=>{KC(e,r)},r=>{dF(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=gP(e.repoInfo_,()=>new zh(e.stats_,e.server_)),e.infoData_=new Uh,e.infoSyncTree_=new qc({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=el(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),kp(e,"connected",!1),e.serverSyncTree_=new qc({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Jt(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function oE(e){let n=e.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Pp(e){return Zk({timestamp:oE(e)})}function QC(e,t,n,r,i){e.dataUpdateCount++;let o=new Z(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=Ro(n,l=>Ce(l));s=zk(e.serverSyncTree_,o,c,i)}else{let c=Ce(n);s=Hk(e.serverSyncTree_,o,c,i)}else if(r){let c=Ro(n,l=>Ce(l));s=Bk(e.serverSyncTree_,o,c)}else{let c=Ce(n);s=el(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=rl(e,o)),Jt(e.eventQueue_,a,s)}function KC(e,t){kp(e,"connected",t),t===!1&&hF(e)}function dF(e,t){Fe(t,(n,r)=>{kp(e,n,r)})}function kp(e,t,n){let r=new Z("/.info/"+t),i=Ce(n);e.infoData_.updateSnapshot(r,i);let o=el(e.infoSyncTree_,r,i);Jt(e.eventQueue_,r,o)}function sE(e){return e.nextWriteId_++}function fF(e,t,n,r,i){Fp(e,"set",{path:t.toString(),value:n,priority:r});let o=Pp(e),s=Ce(n,r),a=Sp(e.serverSyncTree_,t),c=YD(s,a,o),l=sE(e),u=zD(e.serverSyncTree_,t,c,l,!0);Op(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||ke("set at "+t+" failed: "+f);let g=gr(e.serverSyncTree_,l,!p);Jt(e.eventQueue_,t,g),mF(e,i,f,h)});let d=dE(e,t);rl(e,d),Jt(e.eventQueue_,d,[])}function hF(e){Fp(e,"onDisconnectEvents");let t=Pp(e),n=jc();$h(e.onDisconnect_,q(),(i,o)=>{let s=Jk(i,o,e.serverSyncTree_,t);ND(n,i,s)});let r=[];$h(n,q(),(i,o)=>{r=r.concat(el(e.serverSyncTree_,i,o));let s=dE(e,i);rl(e,s)}),e.onDisconnect_=jc(),Jt(e.eventQueue_,q(),r)}function pF(e,t,n){let r;k(t._path)===".info"?r=YC(e.infoSyncTree_,t,n):r=YC(e.serverSyncTree_,t,n),rE(e.eventQueue_,t._path,r)}function JC(e,t,n){let r;k(t._path)===".info"?r=np(e.infoSyncTree_,t,n):r=np(e.serverSyncTree_,t,n),rE(e.eventQueue_,t._path,r)}function gF(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cF)}function Fp(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),De(n,...t)}function mF(e,t,n,r){t&&Mi(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function aE(e,t,n){return Sp(e.serverSyncTree_,t,n)||R.EMPTY_NODE}function Lp(e,t=e.transactionQueueTree_){if(t||il(e,t),Ai(t)){let n=lE(e,t);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&yF(e,rs(t),n)}else QD(t)&&nl(t,n=>{Lp(e,n)})}function yF(e,t,n){let r=n.map(l=>l.currentWriteId),i=aE(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Pe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Fp(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(gr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();il(e,xp(e.transactionQueueTree_,t)),Lp(e,e.transactionQueueTree_),Jt(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Mi(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ke("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}rl(e,t)}},s)}function rl(e,t){let n=cE(e,t),r=rs(n),i=lE(e,n);return vF(e,i,r),r}function vF(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Pe(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(gr(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=lF)u=!0,d="maxretry",i=i.concat(gr(e.serverSyncTree_,c.currentWriteId,!0));else{let f=aE(e,c.path,s);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){Rp("transaction failed: Data returned ",h,c.path);let p=Ce(h);typeof h=="object"&&h!=null&&It(h,".priority")||(p=p.updatePriority(f.getPriority()));let _=c.currentWriteId,E=Pp(e),J=YD(p,f,E);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=J,c.currentWriteId=sE(e),s.splice(s.indexOf(_),1),i=i.concat(zD(e.serverSyncTree_,c.path,J,c.currentWriteId,c.applyLocally)),i=i.concat(gr(e.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(gr(e.serverSyncTree_,c.currentWriteId,!0))}Jt(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}il(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Mi(r[a]);Lp(e,e.transactionQueueTree_)}function cE(e,t){let n,r=e.transactionQueueTree_;for(n=k(t);n!==null&&Ai(r)===void 0;)r=xp(r,n),t=te(t),n=k(t);return r}function lE(e,t){let n=[];return uE(e,t,n),n.sort((r,i)=>r.order-i.order),n}function uE(e,t,n){let r=Ai(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nl(t,i=>{uE(e,i,n)})}function il(e,t){let n=Ai(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ZD(t,n.length>0?n:void 0)}nl(t,r=>{il(e,r)})}function dE(e,t){let n=rs(cE(e,t)),r=xp(e.transactionQueueTree_,t);return eF(r,i=>{mh(e,i)}),mh(e,r),KD(r,i=>{mh(e,i)}),n}function mh(e,t){let n=Ai(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(gr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ZD(t,void 0):n.length=o+1,Jt(e.eventQueue_,rs(t),i);for(let s=0;s<r.length;s++)Mi(r[s])}}function _F(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function wF(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ke(`Invalid query segment '${n}' in query '${e}'`)}return t}var XC=function(e,t){let n=CF(e),r=n.namespace;n.domain==="firebase.com"&&Qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||iP();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xc(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Z(n.pathString)}},CF=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=_F(e.substring(u,d)));let f=wF(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var eD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",DF=function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=eD.charAt(n%64),n=Math.floor(n/64);m(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=eD.charAt(t[i]);return m(s.length===20,"nextPushId: Length should be 20."),s}}();var Zc=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}},Qc=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var cp=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var lp=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:CD(this._path)}get ref(){return new Xt(this._repo,this._path)}get _queryIdentifier(){let t=LC(this._queryParams),n=gp(t);return n==="{}"?"default":n}get _queryObject(){return LC(this._queryParams)}isEqual(t){if(t=bt(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=yp(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+LP(this._path)}};var Xt=class e extends lp{constructor(t,n){super(t,n,new jh,!1)}get parent(){let t=ED(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Kc=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new Z(t),r=Si(this.ref,t);return new e(this._node.getChild(n),r,ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,Si(this.ref,r),ie)))}hasChild(t){let n=new Z(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Vp(e,t){return e=bt(e),e._checkNotDeleted("ref"),t!==void 0?Si(e._root,t):e._root}function Si(e,t){return e=bt(e),k(e._path)===null?oF("child","path",t,!1):tE("child","path",t,!1),new Xt(e._repo,me(e._path,t))}function fE(e,t){e=bt(e),nE("push",e._path),eE("push",t,e._path,!0);let n=oE(e._repo),r=DF(n),i=Si(e,r),o=Si(e,r),s;return t!=null?s=EF(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function EF(e,t){e=bt(e),nE("set",e._path),eE("set",t,e._path,!1);let n=new Nn;return fF(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}var up=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Zc("value",this,new Kc(t.snapshotNode,new Xt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Qc(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},dp=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Qc(this,t,n):null}createEvent(t,n){m(t.childName!=null,"Child events should have a childName.");let r=Si(new Xt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Zc(t.type,this,new Kc(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function IF(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{JC(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new cp(n,o||void 0),a=t==="value"?new up(s):new dp(t,s);return pF(e._repo,e,a),()=>JC(e._repo,e,a)}function hE(e,t,n,r){return IF(e,"value",t,n,r)}xk(Xt);Lk(Xt);var bF="FIREBASE_DATABASE_EMULATOR_HOST",fp={},SF=!1;function TF(e,t,n,r){e.repoInfo_=new xc(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function MF(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),De("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=XC(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[bF]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=XC(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new zo(zo.OWNER):new Dh(e.name,e.options,t);sF("Invalid Firebase Database URL",s),V(s.path)||Qt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=NF(a,e,u,new Ch(e.name,n));return new hp(d,e)}function AF(e,t){let n=fp[t];(!n||n[e.key]!==e)&&Qt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),gF(e),delete n[e.key]}function NF(e,t,n,r){let i=fp[t.name];i||(i={},fp[t.name]=i);let o=i[e.toURLString()];return o&&Qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new ap(e,SF,n,r),i[e.toURLString()]=o,o}var hp=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xt(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qt("Cannot call "+t+" on a deleted database.")}};function jp(e=Fo(),t){let n=On(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=_w("database");r&&xF(n,...r)}return n}function xF(e,t,n,r={}){e=bt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Qt("Cannot call useEmulator() after instance has already been initialized.");let i=e._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new zo(zo.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:ww(r.mockUserToken,e.app.options.projectId);o=new zo(s)}TF(i,t,n,o)}function RF(e){tP(Bw),lt(new Se("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return MF(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Re(wC,CC,e),Re(wC,CC,"esm2017")}vp.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};vp.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};RF();var OF=e=>({inactive:e}),PF=(e,t)=>({reserved:e,selected:t});function kF(e,t){if(e&1&&(N(0,"th"),Q(1),O()),e&2){let n=t.$implicit;ne(),_n(n)}}function FF(e,t){if(e&1){let n=Qi();N(0,"td",22),He("click",function(){let i=Yr(n).$implicit,o=st().$implicit,s=st();return Zr(s.onSelectDate(i,o.number))}),Q(1),O()}if(e&2){let n=t.$implicit,r=st().$implicit,i=st();Ct("ngClass",yv(2,PF,i.isRoomReserved(r.number,n),i.selectedDates.includes(n))),ne(),wn(" ",i.isRoomReserved(r.number,n)?"\u0417\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u043E\u0432\u0430\u043D\u043E":"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E"," ")}}function LF(e,t){if(e&1&&(N(0,"tr",20)(1,"td"),Q(2),O(),N(3,"td"),Q(4),O(),N(5,"td"),Q(6),O(),N(7,"td"),Q(8),O(),vn(9,FF,2,5,"td",21),O()),e&2){let n=t.$implicit,r=st();Ct("ngClass",mv(6,OF,!r.isSelectedRoom(n.number)&&r.selectedRoom!==null)),ne(2),_n(n.number),ne(2),_n(n.type),ne(2),_n(n.capacity),ne(2),wn("",n.price," \u0433\u0440\u043D"),ne(),Ct("ngForOf",r.days)}}function VF(e,t){if(e&1){let n=Qi();N(0,"div")(1,"h3"),Q(2),O(),N(3,"p"),Q(4),O(),N(5,"label",23),Q(6,"\u0412\u0430\u0448\u0435 \u0456\u043C'\u044F:"),O(),N(7,"input",24),Ut("ngModelChange",function(i){Yr(n);let o=st();return Cn(o.userName,i)||(o.userName=i),Zr(i)}),O(),N(8,"button",25),He("click",function(){Yr(n);let i=st();return Zr(i.fbPostData())}),Q(9,"\u0417\u0430\u0431\u0440\u043E\u043D\u044E\u0432\u0430\u0442\u0438"),O()()}if(e&2){let n=st();ne(2),wn("\u0411\u0440\u043E\u043D\u044E\u0432\u0430\u043D\u043D\u044F \u0434\u043B\u044F \u043A\u0456\u043C\u043D\u0430\u0442\u0438 ",n.selectedRoom,""),ne(2),wn("\u0412\u0438\u0431\u0440\u0430\u043D\u0456 \u0434\u0430\u0442\u0438: ",n.selectedDates.join(", "),""),ne(3),Bt("ngModel",n.userName)}}var jF={apiKey:"AIzaSyBZAFLdmpYpI1eXysmtchFUIrJX7xLq6M8",authDomain:"hotels-booking-ec825.firebaseapp.com",databaseURL:"https://hotels-booking-ec825-default-rtdb.europe-west1.firebasedatabase.app",projectId:"hotels-booking-ec825",storageBucket:"hotels-booking-ec825.firebasestorage.app",messagingSenderId:"811818691167",appId:"1:811818691167:web:fe7c79ea70f20d7eddc9ea",measurementId:"G-PK70E9312H"},Bp=Zf(jF),VH=_C(Bp),ol=class e{constructor(t,n){this.route=t;this.dataService=n}hotelId;rooms=[];days=[];currentDayCount=30;bookings=[];selectedDates=[];selectedRoom=null;filter={type:null,capacity:null,price:{min:0,max:1e3},dateRange:{start:null,end:null}};userName="";ngOnInit(){this.hotelId=this.route.snapshot.paramMap.get("id"),this.addDays(),this.dataService.fetchRooms("rooms").subscribe(t=>this.rooms=t),this.fbGetData()}addDays(){let t=new Date,n=this.days.length,r=n+this.currentDayCount;for(let i=n;i<r;i++){let o=new Date(t);o.setDate(t.getDate()+i),this.days.push(this.formatDate(o))}}formatDate(t){let n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0");return`${t.getFullYear()}-${r}-${n}`}onScroll(t){let n=t.target;n.scrollWidth-n.scrollLeft===n.clientWidth&&this.addDays()}isRoomReserved(t,n){let r=new Date(n);return this.bookings.some(i=>i.room===t&&r.getTime()>=new Date(i.checkinDate).getTime()&&r.getTime()<=new Date(i.checkoutDate).getTime())}onSelectDate(t,n){if(this.isRoomReserved(n,t)||this.selectedRoom&&this.selectedRoom!=n)return;let r=this.selectedDates.indexOf(t);r===-1?this.selectedDates.push(t):this.selectedDates.splice(r,1),this.selectedDates.sort((i,o)=>new Date(i).getTime()-new Date(o).getTime()),this.selectedRoom=n,this.selectedDates.length===0&&(this.selectedRoom=null),console.log(this.selectedDates.length,!this.isSelectedRoom(n),this.selectedRoom!==null)}bookRoom(){if(!this.selectedRoom||!this.selectedDates.length||!this.userName){alert("\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043A\u0456\u043C\u043D\u0430\u0442\u0443, \u0434\u0430\u0442\u0438 \u0442\u0430 \u0432\u0432\u0435\u0434\u0456\u0442\u044C \u0441\u0432\u043E\u0454 \u0456\u043C'\u044F!");return}let t=new Date(this.selectedDates[0]),n=new Date(this.selectedDates[this.selectedDates.length-1]);this.isRoomAvailableForDateRange(this.selectedRoom,String(t),String(n))?(this.bookings.push({room:this.selectedRoom,checkinDate:String(t),checkoutDate:String(t),name:this.userName}),this.selectedRoom=null,this.selectedDates=[],this.userName=""):alert("\u041D\u0430 \u0434\u0430\u043D\u043E\u043C\u0443 \u043F\u0440\u043E\u043C\u0456\u0436\u043A\u0443 \u0454 \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u043E\u0432\u0430\u043D\u0456 \u0434\u043D\u0456!")}isSelectedRoom(t){return this.selectedRoom===t}getFilteredRooms(){return this.rooms.filter(t=>{let n=this.isRoomAvailableForSelectedDates(t.number),r=this.filter.type?t.type===this.filter.type:!0,i=this.filter.capacity?t.capacity===this.filter.capacity:!0,o=t.price>=this.filter.price.min&&t.price<=this.filter.price.max,s=this.filter.dateRange.start&&this.filter.dateRange.end?this.isRoomAvailableForDateRange(t.number,this.filter.dateRange.start,this.filter.dateRange.end):!0;return n&&r&&i&&o&&s})}isRoomAvailableForDateRange(t,n,r){let i=new Date(n),o=new Date(r);return!this.bookings.some(s=>s.room===t&&!(i.getTime()>=new Date(s.checkoutDate).getTime()||o.getTime()<=new Date(s.checkinDate).getTime()))}isRoomAvailableForSelectedDates(t){return this.filter.dateRange.start&&this.filter.dateRange.end?this.selectedDates.every(n=>!this.isRoomReserved(t,n)):!0}fbGetData(){let t=jp(Bp),n=Vp(t,"/");hE(n,r=>{r.exists()?(this.bookings=[],r.forEach(i=>{let o=i.val();this.bookings.push({room:o.room,checkinDate:o.checkinDate,checkoutDate:o.checkoutDate,name:o.name})})):console.log("No data available")},r=>{console.error("Error fetching data from Firebase:",r)})}fbPostData(){if(!this.selectedRoom||!this.selectedDates.length||!this.userName){alert("Please select a room, dates, and enter your name!");return}let t=new Date(this.selectedDates[0]),n=new Date(this.selectedDates[this.selectedDates.length-1]),r=this.formatDate1(t),i=this.formatDate1(n),o={room:this.selectedRoom,checkinDate:r,checkoutDate:i,name:this.userName};console.log(o);let s=jp(Bp),a=Vp(s,"/");console.log(o),fE(a,o).then(()=>{this.bookings.push(o),console.log(o),this.selectedRoom=null,this.selectedDates=[],this.userName="",alert("Room booked successfully!")}).catch(c=>{console.error("Error adding booking to Firebase:",c),alert("Failed to book room. Please try again.")})}formatDate1(t){let n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()+1).padStart(2,"0");return`${n}-${r}-${i}`}static \u0275fac=function(n){return new(n||e)(H(Mn),H(di))};static \u0275cmp=pn({type:e,selectors:[["app-room-reservations"]],standalone:!0,features:[$t([di]),Dn],decls:44,vars:10,consts:[[1,"filters"],["for","roomType"],["id","roomType",3,"ngModelChange","ngModel"],["value",""],["value","\u0437\u0432\u0438\u0447\u0430\u0439\u043D\u0430"],["value","\u043F\u0440\u0435\u043C\u0456\u0443\u043C"],["value","\u0431\u0456\u0437\u043D\u0435\u0441"],["for","roomCapacity"],["id","roomCapacity","type","number","min","1",3,"ngModelChange","ngModel"],["for","priceRange"],["id","priceMin","type","number","placeholder","\u041C\u0456\u043D\u0456\u043C\u0443\u043C","min","0",3,"ngModelChange","ngModel"],["id","priceMax","type","number","placeholder","\u041C\u0430\u043A\u0441\u0438\u043C\u0443\u043C","min","0",3,"ngModelChange","ngModel"],["for","dateRange"],["id","startDate","type","date",3,"ngModelChange","ngModel"],["id","endDate","type","date",3,"ngModelChange","ngModel"],[1,"table-container",3,"scroll"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],["href",""],[3,"ngClass"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"],["for","userName"],["id","userName","type","text","placeholder","\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0456\u043C'\u044F",3,"ngModelChange","ngModel"],[3,"click"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"label",1),Q(2,"\u0422\u0438\u043F \u043A\u0456\u043C\u043D\u0430\u0442\u0438:"),O(),N(3,"select",2),Ut("ngModelChange",function(o){return Cn(r.filter.type,o)||(r.filter.type=o),o}),N(4,"option",3),Q(5,"\u0423\u0441\u0456"),O(),N(6,"option",4),Q(7,"\u0417\u0432\u0438\u0447\u0430\u0439\u043D\u0430"),O(),N(8,"option",5),Q(9,"\u041F\u0440\u0435\u043C\u0456\u0443\u043C"),O(),N(10,"option",6),Q(11,"\u0411\u0456\u0437\u043D\u0435\u0441"),O()(),N(12,"label",7),Q(13,"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0441\u043F\u0430\u043B\u044C\u043D\u0438\u0445 \u043C\u0456\u0441\u0446\u044C:"),O(),N(14,"input",8),Ut("ngModelChange",function(o){return Cn(r.filter.capacity,o)||(r.filter.capacity=o),o}),O(),N(15,"label",9),Q(16,"\u0426\u0456\u043D\u0430:"),O(),N(17,"input",10),Ut("ngModelChange",function(o){return Cn(r.filter.price.min,o)||(r.filter.price.min=o),o}),O(),N(18,"input",11),Ut("ngModelChange",function(o){return Cn(r.filter.price.max,o)||(r.filter.price.max=o),o}),O(),N(19,"label",12),Q(20,"\u0414\u0430\u0442\u0430 \u0431\u0440\u043E\u043D\u044E\u0432\u0430\u043D\u043D\u044F:"),O(),N(21,"input",13),Ut("ngModelChange",function(o){return Cn(r.filter.dateRange.start,o)||(r.filter.dateRange.start=o),o}),O(),N(22,"input",14),Ut("ngModelChange",function(o){return Cn(r.filter.dateRange.end,o)||(r.filter.dateRange.end=o),o}),O()(),N(23,"h1"),Q(24),O(),N(25,"div",15),He("scroll",function(o){return r.onScroll(o)}),N(26,"table")(27,"thead")(28,"tr")(29,"th"),Q(30,"\u041D\u043E\u043C\u0435\u0440 \u043A\u0456\u043C\u043D\u0430\u0442\u0438"),O(),N(31,"th"),Q(32,"\u0422\u0438\u043F"),O(),N(33,"th"),Q(34,"\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u043C\u0456\u0441\u0446\u044C"),O(),N(35,"th"),Q(36,"\u0426\u0456\u043D\u0430"),O(),vn(37,kF,2,1,"th",16),O()(),N(38,"tbody"),vn(39,LF,10,8,"tr",17),O()()(),vn(40,VF,10,3,"div",18),N(41,"button")(42,"a",19),Q(43,"\u041D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),O()()),n&2&&(ne(3),Bt("ngModel",r.filter.type),ne(11),Bt("ngModel",r.filter.capacity),ne(3),Bt("ngModel",r.filter.price.min),ne(),Bt("ngModel",r.filter.price.max),ne(3),Bt("ngModel",r.filter.dateRange.start),ne(),Bt("ngModel",r.filter.dateRange.end),ne(2),wn("\u0422\u0430\u0431\u043B\u0438\u0446\u044F \u0440\u0435\u0437\u0435\u0440\u0432\u0443\u0432\u0430\u043D\u043D\u044F \u0433\u043E\u0442\u0435\u043B\u044E ",r.hotelId,""),ne(13),Ct("ngForOf",r.days),ne(2),Ct("ngForOf",r.getFilteredRooms()),ne(),Ct("ngIf",r.selectedRoom!==null&&r.selectedDates.length>0))},dependencies:[Fa,Pv,hw,uw,fw,hc,Sf,gc,sw,Tf,bf,kv],styles:[".reserved[_ngcontent-%COMP%]{background-color:#fdd;color:#d9534f;font-weight:700;cursor:not-allowed}.reserved[_ngcontent-%COMP%]:hover{background-color:#fdd}.table-container[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:center;border:1px solid #ddd;width:120px}td[_ngcontent-%COMP%]{cursor:pointer}td[_ngcontent-%COMP%]:hover{background-color:#add8e6}button[_ngcontent-%COMP%]{margin-top:10px}.selected[_ngcontent-%COMP%]{background-color:#28a745}tr.inactive[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#d3d3d3;cursor:not-allowed}.filters[_ngcontent-%COMP%]{margin:20px 0;padding:15px;background-color:#f9f9f9;border:1px solid #ddd;border-radius:8px;display:flex;flex-wrap:wrap;gap:20px;align-items:center}.filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#333}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:14px;border:1px solid #ccc;border-radius:4px;width:180px}.filters[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{width:160px}.filters[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:120px}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-sizing:border-box}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.filters[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{transition:border-color .3s ease}.filters[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#007bff}.filters[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:disabled, .filters[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:disabled, .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{background-color:#f0f0f0;cursor:not-allowed}"]})};var pE=[{path:"",component:ac},{path:"reservations/:id",component:ol}];var gE={providers:[V_(pE),qv()]};var sl=class e{title="booking";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=pn({type:e,selectors:[["app-root"]],standalone:!0,features:[Dn],decls:1,vars:0,template:function(n,r){n&1&&Zi(0,"router-outlet")},dependencies:[pf],styles:["h1[_ngcontent-%COMP%]{color:red}"]})};t_(sl,gE).catch(e=>console.error(e));
